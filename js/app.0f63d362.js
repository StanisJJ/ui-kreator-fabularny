(function(t){function e(e){for(var o,s,r=e[0],l=e[1],c=e[2],u=0,m=[];u<r.length;u++)s=r[u],Object.prototype.hasOwnProperty.call(n,s)&&n[s]&&m.push(n[s][0]),n[s]=0;for(o in l)Object.prototype.hasOwnProperty.call(l,o)&&(t[o]=l[o]);d&&d(e);while(m.length)m.shift()();return i.push.apply(i,c||[]),a()}function a(){for(var t,e=0;e<i.length;e++){for(var a=i[e],o=!0,s=1;s<a.length;s++){var l=a[s];0!==n[l]&&(o=!1)}o&&(i.splice(e--,1),t=r(r.s=a[0]))}return t}var o={},n={app:0},i=[];function s(t){return r.p+"js/"+({about:"about"}[t]||t)+"."+{about:"a2fb0e3e"}[t]+".js"}function r(e){if(o[e])return o[e].exports;var a=o[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.e=function(t){var e=[],a=n[t];if(0!==a)if(a)e.push(a[2]);else{var o=new Promise((function(e,o){a=n[t]=[e,o]}));e.push(a[2]=o);var i,l=document.createElement("script");l.charset="utf-8",l.timeout=120,r.nc&&l.setAttribute("nonce",r.nc),l.src=s(t);var c=new Error;i=function(e){l.onerror=l.onload=null,clearTimeout(u);var a=n[t];if(0!==a){if(a){var o=e&&("load"===e.type?"missing":e.type),i=e&&e.target&&e.target.src;c.message="Loading chunk "+t+" failed.\n("+o+": "+i+")",c.name="ChunkLoadError",c.type=o,c.request=i,a[1](c)}n[t]=void 0}};var u=setTimeout((function(){i({type:"timeout",target:l})}),12e4);l.onerror=l.onload=i,document.head.appendChild(l)}return Promise.all(e)},r.m=t,r.c=o,r.d=function(t,e,a){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)r.d(a,o,function(e){return t[e]}.bind(null,o));return a},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/ui-kreator-fabularny/",r.oe=function(t){throw console.error(t),t};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],c=l.push.bind(l);l.push=e,l=l.slice();for(var u=0;u<l.length;u++)e(l[u]);var d=c;i.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"01de":function(t,e,a){},"0972":function(t,e,a){},"187e":function(t,e,a){"use strict";a("aa08")},"267d":function(t,e,a){"use strict";a("61f9")},"299e":function(t,e,a){"use strict";a("7179")},"47e9":function(t,e,a){"use strict";a("9093")},4874:function(t,e,a){},"4b40":function(t,e,a){t.exports=a.p+"img/home2.7e7cd04c.png"},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var o=a("2b0e"),n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("div",[a("b-navbar",{staticClass:"LogedNavbar",attrs:{toggleable:"lg",type:"dark",variant:"info"}},[a("b-navbar-toggle",{attrs:{target:"nav-collapse"}}),a("b-navbar-brand",{attrs:{href:"/",active:"/"===t.$route.fullPath}},[a("b-icon",{attrs:{icon:"house",scale:"2"}})],1),a("b-collapse",{attrs:{id:"nav-collapse","is-nav":""}},[a("b-navbar-nav",["Admin"===t.Role?a("b-nav-item",{attrs:{href:"/adminPanelScenerio",active:t.$route.matched.some((function(t){var e=t.name;return"adminPanelScenerio"===e}))}},[t._v("ADM scenarjusze")]):t._e(),"Admin"===t.Role?a("b-nav-item",{attrs:{href:"/adminPanelMain",active:t.$route.matched.some((function(t){var e=t.name;return"adminPanelMain"===e}))}},[t._v("ADM Bloki Główne")]):t._e(),a("b-nav-item",{attrs:{href:"/test",active:t.$route.matched.some((function(t){var e=t.name;return"admin"===e}))}},[t._v("Test")]),a("b-nav-item",{attrs:{href:"/scenerio",active:t.$route.matched.some((function(t){var e=t.name;return"scenerio"===e}))}},[t._v("Scenariusze")])],1),a("b-navbar-nav",{staticClass:"ml-auto"},[null!==t.Role?a("b-nav-form",[a("b-button-group",[a("b-form-input",{staticClass:"mr-sm-2",attrs:{size:"sm",placeholder:"Search"},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),a("b-button",{staticClass:"my-2 my-sm-0",attrs:{size:"sm"},on:{click:function(e){t.search=null}}},[t._v("Clear")])],1)],1):t._e(),null!==t.Role?a("b-nav-item-dropdown",{attrs:{right:""},scopedSlots:t._u([{key:"button-content",fn:function(){return[a("b-icon",{attrs:{icon:"person-circle","aria-hidden":"true"}}),t._v(" Profil ")]},proxy:!0}],null,!1,1376773477)},[a("b-dropdown-item",{attrs:{href:"/profile"}},[t._v("Profil")]),a("b-dropdown-item",{on:{click:t.LogOut}},[t._v("Wyloguj")])],1):a("div",{staticClass:"NavButtons"},[a("b-button-group",[a("b-button",{attrs:{size:"sm",variant:"primary",href:"/login"}},[t._v("Zaloguj")]),a("b-button",{attrs:{size:"sm",variant:"primary",href:"/signup"}},[t._v("Zarejestruj")])],1)],1)],1)],1)],1)],1),a("Alert"),a("LoadingWheel",{attrs:{MyName:"main"}}),a("Toast"),a("router-view",{attrs:{search:t.search}})],1)},i=[],s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-alert",{staticClass:"alertBox",attrs:{show:t.dismissCountDown,dismissible:"",variant:t.alertvariant},on:{dismissed:function(e){t.dismissCountDown=0},"dismiss-count-down":t.countDownChanged}},[a("div",{staticClass:"alertText"},[t._v(" "+t._s(t.alertMesage)+" ")]),a("b-progress",{attrs:{variant:t.alertvariant,max:t.dismissSecs,value:t.dismissCountDown,height:"4px"}})],1)},r=[],l={name:"App",data:function(){return{showDismissibleAlert:!1,dismissSecs:10,dismissCountDown:0,alertMesage:"asd",alertvariant:"success",LoadingWheel:!1}},computed:{},watch:{"$store.state.AlertData":function(t){console.log(t.message),this.alertMesage=t.message,this.alertvariant=t.variant,this.dismissSecs=t.dismissSecs,this.showAlert()}},methods:{countDownChanged:function(t){this.dismissCountDown=t},showAlert:function(){this.dismissCountDown=this.dismissSecs}}},c=l,u=a("2877"),d=Object(u["a"])(c,s,r,!1,null,null,null),m=d.exports,g=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"show",rawName:"v-show",value:t.LoadingWheel.set&&t.LoadingWheel.name===t.MyName,expression:"LoadingWheel.set && LoadingWheel.name === MyName"}]},[a("div",{staticClass:"LoadingWheel"}),a("b-spinner",{staticClass:"LWCenter",staticStyle:{width:"50px",height:"50px"},attrs:{variant:"primary",label:"Spinning"}})],1)},h=[],p={name:"App",props:{MyName:String},data:function(){return{LoadingWheel:{set:!1,name:"main"}}},computed:{LoadingWheelCheck:function(){return this.$store.state.LoadingWheel}},watch:{"$store.state.LoadingWheel":function(t){null!==t&&(this.LoadingWheel=t)}}},f=p,b=(a("47e9"),Object(u["a"])(f,g,h,!1,null,"c714030c",null)),v=b.exports,D=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("b-toast",{attrs:{id:t.toastTitle,variant:t.toastVariant,solid:"",autoHideDelay:t.toastTime,appendToast:t.append},scopedSlots:t._u([{key:"toast-title",fn:function(){return[a("div",{staticClass:"d-flex flex-grow-1 align-items-baseline "},[a("b-img",{staticClass:"mr-2",attrs:{blank:"","blank-color":"#ff5555",width:"12",height:"12"}}),a("strong",{staticClass:"mr-auto"},[t._v(t._s(t.toastTitle))]),a("small",{staticClass:"text-muted mr-2"},[t._v("successFull")])],1)]},proxy:!0}])},[t._v(" "+t._s(t.toastMesage)+" ")])],1)},S=[],k={name:"App",data:function(){return{toastMesage:"Test",toastVariant:"success",toastTitle:"Tester",toastTime:5e3,append:!0}},computed:{},watch:{"$store.state.ToastData":function(t){console.log("im HERRRRE"),this.toastMesage=t.message,this.toastVariant=t.variant,this.toastTitle=t.title,this.toastTime=t.time,this.toastHide=t.hide,this.$bvToast.toast(t.message,{title:t.title,solid:!0,autoHideDelay:t.time,variant:t.variant,appendToast:this.append,noAutoHide:t.hide,toaster:"b-toaster-bottom-right"})}}},w=k,C=Object(u["a"])(w,D,S,!1,null,null,null),I=C.exports,y=a("bc3a"),x=a.n(y),T={data:function(){return{Role:null}},computed:{},methods:{Authorize:function(){var t=this;x.a.post("http://localhost:5000/api/user/GetRole","",{headers:{Authorization:localStorage.getItem("token")}}).then((function(e){e.data.Role===localStorage.getItem("role")?(console.log("Auth checked"),t.$store.commit("SetRole",e.data.Role)):(t.$store.commit("SetRole",null),t.$router.push("/Login"))}),(function(t){console.log(t)}))}}},z={components:{Alert:m,LoadingWheel:v,Toast:I},mixins:[T],name:"App",data:function(){return{search:null}},created:function(){},mounted:function(){this.Authorize()},watch:{"$store.state.Role":function(t){this.Role=t}},methods:{test:function(){console.log(this.$router)},LogOut:function(){localStorage.removeItem("role"),localStorage.removeItem("token"),this.$store.commit("SetRole",null),this.$router.push("/Login")}}},E=z,_=(a("5c0b"),Object(u["a"])(E,n,i,!1,null,null,null)),j=_.exports,A=(a("d3b7"),a("3ca3"),a("ddb0"),a("8c4f")),N=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("b-container",{staticClass:"p-4 containerIMG",attrs:{fluid:""}},[o("b-row",[o("b-col",[o("b-img",{staticClass:"imgHome",attrs:{thumbnail:"",fluid:"",src:a("9b33"),alt:"Image 2"}})],1)],1),o("b-row",[o("b-col",[o("b-img",{staticClass:"imgHome",attrs:{thumbnail:"",fluid:"",src:a("4b40"),alt:"Image 2"}})],1)],1),o("b-row",[o("b-col",[o("b-img",{staticClass:"imgHome",attrs:{thumbnail:"",fluid:"",src:a("b899"),alt:"Image 2"}})],1)],1)],1)],1)},R=[],O={name:"HelloWorld",props:{msg:String},data:function(){return{}},methods:{}},M=O,P=(a("187e"),Object(u["a"])(M,N,R,!1,null,"dde5902a",null)),$=P.exports,L=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"SignUpContainer"},[a("div",{staticClass:"loginBox"},[a("div",[a("router-link",{attrs:{to:"/signup"}},[a("div",{staticClass:"LogOrRegButtonForm"},[t._v("Rejestracja")])]),a("router-link",{attrs:{to:"/login"}},[a("div",{staticClass:"LogOrRegButtonForm DisabledDiv"},[t._v("Logowanie")])])],1),a("div",{staticClass:"FormBox"},[a("b-form",{on:{submit:t.signup}},[a("b-form-group",{attrs:{id:"input-group-1",label:"Login:","label-for":"input-1"}},[a("b-form-input",{attrs:{id:"input-1",state:t.LoginValidation,type:"text",placeholder:"Podaj login",required:""},model:{value:t.login,callback:function(e){t.login=e},expression:"login"}}),a("b-form-invalid-feedback",{staticClass:"RegErrorBox",attrs:{state:t.LoginValidation}},t._l(t.LoginErrorsArray,(function(e,o){return a("li",{key:o},[a("span",[t._v(t._s(e.mes))])])})),0)],1),a("b-form-group",{staticClass:"FormLabel",attrs:{id:"input-group-2",label:"Addres Email:","label-for":"input-1"}},[a("b-form-input",{attrs:{id:"input-2",type:"email",state:t.EmailValidation,placeholder:"Podaj email",required:""},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}}),a("b-form-invalid-feedback",{staticClass:"RegErrorBox",attrs:{state:t.EmailValidation}},t._l(t.EmailErrorsArray,(function(e,o){return a("li",{key:o},[a("span",[t._v(t._s(e.mes))])])})),0)],1),a("b-form-group",{staticClass:"FormLabel",attrs:{id:"input-group-4",label:"Hasło:","label-for":"input-1"}},[a("b-form-input",{attrs:{id:"input-3",state:t.PasswordValidation,type:"password",placeholder:"Podaj hasło",required:""},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1),a("b-form-group",{staticClass:"FormLabel",attrs:{id:"input-group-3",label:"Hasło potwierdzające:","label-for":"input-1"}},[a("b-form-input",{attrs:{id:"input-4",type:"password",state:t.PasswordValidation,placeholder:"podaj potwierdzenie hasła",autocomplete:"off",required:""},model:{value:t.confirmpassword,callback:function(e){t.confirmpassword=e},expression:"confirmpassword"}}),a("b-form-invalid-feedback",{staticClass:"RegErrorBox",attrs:{state:t.PasswordValidation}},t._l(t.PasswordErrorsArray,(function(e,o){return a("li",{key:o},[a("span",[t._v(t._s(e.mes))])])})),0),a("b-form-invalid-feedback",{staticClass:"RegErrorBox",attrs:{state:t.ErrorValidation}},[a("li",[a("span",[t._v(t._s(t.error))])])])],1),a("b-button",{staticClass:"submitButton",attrs:{type:"submit",variant:"primary"}},[t._v("Dołącz")])],1)],1)])])},U=[],W=(a("ac1f"),a("1276"),a("99af"),a("4de4"),{name:"Signup",data:function(){return{login:"",email:"",confirmpassword:"",password:"",error:null,LoginErrors:{block:null,tab:[{status:!1,mes:"login jest zbyt krótki",server:!1},{status:!1,mes:"login jest zbyt długi",server:!1},{status:!1,mes:"login zajęty",server:!0}]},PasswordErrors:{block:null,tab:[{status:!1,mes:"Hasła nie są takie same",server:!1},{status:!1,mes:"Co najmniej 6 znaków",server:!1}]},EmailErrors:{block:null,tab:[{status:!1,mes:"Email zajęty",server:!0}]}}},created:function(){},watch:{login:function(t){this.LoginErrors.tab[0].status=t.length<3,this.LoginErrors.tab[1].status=t.length>40,null==this.LoginErrors.block&&(this.LoginErrors.block=!1)},pass:function(t){var e=t.split("|");this.PasswordErrors.tab[0].status=e[0]!==e[1],this.PasswordErrors.tab[1].status=e[0].length<6,null==this.PasswordErrors.block&&(this.PasswordErrors.block=!1)},email:function(){null==this.EmailErrors.block&&(this.EmailErrors.block=!1)}},computed:{pass:function(){return"".concat(this.password,"|").concat(this.confirmpassword)},ErrorValidation:function(){return null===this.error&&null},LoginErrorsArray:function(){return this.LoginErrors.tab.filter((function(t){return 1==t.status}))},LoginValidation:function(){return null==this.LoginErrors.block?null:!this.LoginErrors.tab.some((function(t){return 1==t.status}))},PasswordErrorsArray:function(){return this.PasswordErrors.tab.filter((function(t){return 1==t.status}))},PasswordValidation:function(){return null==this.PasswordErrors.block?null:!this.PasswordErrors.tab.some((function(t){return 1==t.status}))},EmailErrorsArray:function(){return this.EmailErrors.tab.filter((function(t){return 1==t.status}))},EmailValidation:function(){return null==this.EmailErrors.block?null:!this.EmailErrors.tab.some((function(t){return 1==t.status}))},CheckValidation:function(){return null!=this.EmailErrors.block&&!this.EmailErrors.tab.some((function(t){return 1==t.status&&0==t.server}))&&null!=this.PasswordErrors.block&&!this.PasswordErrors.tab.some((function(t){return 1==t.status&&0==t.server}))&&null!=this.LoginErrors.block&&!this.LoginErrors.tab.some((function(t){return 1==t.status&&0==t.server}))}},methods:{signup:function(t){var e=this;if(t.preventDefault(),this.CheckValidation){this.$store.commit("SetLoadingWheel",{set:!0,name:"main"});var a={Login:this.login,Email:this.email,ConfirmPassword:this.confirmpassword,Password:this.password};x.a.post("http://localhost:5000/api/auth/register",a).then((function(t){console.log("------Response-------",t),e.$store.commit("UseAlert",["success","Twojek konto zostąło utworzone , możesz się zalogować",8]),e.$router.push("/login"),e.$store.commit("SetLoadingWheel",{set:!1,name:"main"})}),(function(t){console.log("------Error------",t.response),t.response?(e.LoginErrors.tab[2].status=null!==t.response.data.Login,e.EmailErrors.tab[0].status=null!==t.response.data.Email):e.error="Błąd połączenia z serwerem",e.$store.commit("SetLoadingWheel",{set:!1,name:"main"})}))}else this.$store.commit("UseAlert",["warning","Popraw błęd w formularzu",8])}}}),F=W,B=(a("a673"),Object(u["a"])(F,L,U,!1,null,"8614b926",null)),q=B.exports,H=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"loginContainer"},[a("div",{staticClass:"loginBox"},[a("div",[a("router-link",{attrs:{to:"/signup"}},[a("div",{staticClass:"LogOrRegButtonForm DisabledDiv"},[t._v("Rejestracja")])]),a("router-link",{attrs:{to:"/login"}},[a("div",{staticClass:"LogOrRegButtonForm "},[t._v("Logowanie")])])],1),a("div",{staticClass:"FormBox"},[a("b-form-group",{attrs:{id:"input-group-1",label:"Email address:","label-for":"input-1"}},[a("b-form-input",{attrs:{id:"input-1",type:"email",state:t.ErrorValidation,placeholder:"Enter email",required:""},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}})],1),a("b-form-group",{staticClass:"FormLabel",attrs:{id:"input-group-1",label:"Password:","label-for":"input-1"}},[a("b-form-input",{attrs:{id:"input-1",state:t.ErrorValidation,type:"password",placeholder:"Enter password",required:""},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),a("b-form-invalid-feedback",{staticClass:"RegErrorBox",attrs:{state:t.ErrorValidation}},[a("li",[a("span",[t._v(t._s(t.error))])])])],1),a("b-button",{staticClass:"submitButton",attrs:{variant:"primary"},on:{click:t.login}},[t._v("Login")])],1)])])},Z=[],V={name:"Login",data:function(){return{email:"",password:"",error:null}},created:function(){},computed:{ErrorValidation:function(){return null===this.error&&null}},methods:{login:function(){var t=this;this.$store.commit("SetLoadingWheel",{set:!0,name:"main"});var e={email:this.email,password:this.password};x.a.post("http://localhost:5000/api/auth/authenticate",e).then((function(e){200===e.status&&(console.log(e),localStorage.setItem("token",e.data.Token),localStorage.setItem("role",e.data.Role),t.$store.commit("SetRole",e.data.Role),t.$store.commit("UseAlert",["success","Witaj w Kreatorze Fabularnym",5]),t.$router.push("/"),t.$store.commit("SetLoadingWheel",{set:!1,name:"main"}))}),(function(e){e.response?t.error=e.response.data.message:t.error="Błąd połączenia z serwerem",t.$store.commit("SetLoadingWheel",{set:!1,name:"main"})}))}}},G=V,J=(a("299e"),Object(u["a"])(G,H,Z,!1,null,"5da85e0c",null)),K=J.exports,Q=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-container",{attrs:{fluid:""}},[a("b-form",{on:{submit:t.AddNew}},[a("div",[a("b-collapse",{staticClass:"mt-2",attrs:{id:"collapse-1"}},[a("b-card",{style:{"border-color":t.NewScenerio.Color,"background-color":t.NewScenerio.Color+"50"}},[a("div",{staticClass:"row addScen"},[a("b-form-group",{staticClass:"col-1",attrs:{id:"input-group-1",label:"Tytuł:","label-for":"input-1"}}),a("b-form-input",{staticClass:"col-3",attrs:{id:"input-1",type:"text",placeholder:"Tytuł",required:""},model:{value:t.NewScenerio.Title,callback:function(e){t.$set(t.NewScenerio,"Title",e)},expression:"NewScenerio.Title"}}),a("b-form-group",{staticClass:"col-1",attrs:{id:"input-group-1",label:"Avatar:","label-for":"input-1"}}),a("b-form-file",{staticClass:"col-3",attrs:{accept:"image/png, image/jpg, image/jpeg",placeholder:"Wybierz lub upuść tutaj plik...","drop-placeholder":"Upuść plik tutaj...",required:""},model:{value:t.file,callback:function(e){t.file=e},expression:"file"}}),a("b-form-group",{staticClass:"col-1",attrs:{id:"input-group-1",label:"Kolor:","label-for":"input-1"}}),a("b-form-input",{staticClass:"col-1",attrs:{id:"input-1",type:"color",placeholder:"Kolor",required:""},model:{value:t.NewScenerio.Color,callback:function(e){t.$set(t.NewScenerio,"Color",e)},expression:"NewScenerio.Color"}}),a("div",{staticClass:"col-2"},[a("b-button",{staticClass:"submitButton mt-0",attrs:{type:"submit",variant:"success"}},[t._v("Dodaj")])],1)],1),a("div",{staticClass:"row"},[a("b-form-textarea",{attrs:{id:"textarea",placeholder:"Opis Scenariusza",rows:"3","max-rows":"6",required:""},model:{value:t.NewScenerio.Description,callback:function(e){t.$set(t.NewScenerio,"Description",e)},expression:"NewScenerio.Description"}})],1)])],1)],1)]),a("div",{staticClass:"MainToolBar",attrs:{vertical:""}},[a("b-row",{attrs:{"align-v":"center"}},[a("b-col",[a("b-icon",{directives:[{name:"b-toggle",rawName:"v-b-toggle.collapse-1",modifiers:{"collapse-1":!0}}],staticClass:"MTBicon",attrs:{title:"Dodaj scenariusz",icon:"plus-square"}})],1)],1),a("div",{staticClass:"MenuTitle"},[t._v(" Menu ")])],1),a("div",{staticClass:"ItemsScenerios"},[a("LoadingWheel",{attrs:{MyName:"scenerio"}}),a("draggable",t._b({staticClass:"row wrap fill-height align-center sortable-list",attrs:{list:t.Scenerios,handle:".handle",tag:"div"}},"draggable",t.dragOptions,!1),t._l(t.Scenerios,(function(e){return a("div",{directives:[{name:"show",rawName:"v-show",value:t.Search(e),expression:"Search(element)"}],key:e.ID,staticClass:"MyCard",style:{border:"solid 2px "+e.Color,"border-color":e.Color,"background-color":e.Color+"50"}},[a("transition",{attrs:{name:"slide-fade",mode:"out-in"}},[t.edit!==e.ID?a("div",{key:"1"},[a("div",{staticClass:"Avatar handle"},[a("b-img",{attrs:{src:0===Object.keys(e.DataImages).length?"http://localhost:5000/":"http://localhost:5000/"+e.DataImages[0].Path+"?random="+t.imgRand,fluid:"",alt:"Responsive image"}})],1),null!==e.Title?a("b-container",{staticClass:"TextContainer text-left"},[a("b-row",[a("b-col",{staticClass:"Title text-truncate align-left",attrs:{title:e.Title}},[t._v(" "+t._s(e.Title)+" ")])],1),a("hr",{staticClass:"LineSeparator"}),null!==e.Description?a("b-row",[a("b-col",{staticClass:" align-left test"},[a("div",{staticClass:"Description"},[t._v(t._s(e.Description))])])],1):t._e()],1):t._e(),a("b-button-group",{staticClass:"Buttons"},[a("b-button",{attrs:{title:"Uruchom"},on:{click:function(a){return t.start(e)}}},[a("b-icon",{attrs:{icon:"play-btn","aria-hidden":"true"}})],1),a("b-button",{attrs:{title:"Edytuj"},on:{click:function(a){t.edit=e.ID}}},[a("b-icon",{attrs:{icon:"pencil","aria-hidden":"true"}})],1),a("b-button",{attrs:{title:"Usuń element"},on:{click:function(a){return t.removeElement(e)}}},[a("b-icon",{attrs:{icon:"x-circle","aria-hidden":"true"}})],1)],1)],1):t.edit===e.ID?a("b-card",{key:"2",attrs:{"img-alt":"Image","img-top":""}},[a("diV",{staticClass:"EditInputs"},[a("div",{staticClass:"row"},[a("b-form-file",{attrs:{accept:"image/png, image/jpg, image/jpeg",placeholder:"Wybierz / upuść plik...","drop-placeholder":"Upuść plik tutaj..."},model:{value:t.updateFile,callback:function(e){t.updateFile=e},expression:"updateFile"}})],1),a("div",{staticClass:"row"},[a("b-form-input",{staticStyle:{width:"100%"},attrs:{id:"input-Title",type:"text",placeholder:"Tytuł",required:""},model:{value:e.Title,callback:function(a){t.$set(e,"Title",a)},expression:"element.Title"}})],1),a("div",{staticClass:"row "},[a("b-form-textarea",{staticClass:"TextBox",attrs:{id:"textarea",placeholder:"Opis Scenariusza","no-resize":""},model:{value:e.Description,callback:function(a){t.$set(e,"Description",a)},expression:"element.Description"}})],1),a("div",{staticClass:"row saveB"},[a("b-button-group",[a("b-form-input",{attrs:{id:"colorInput",type:"color",placeholder:"Kolor",required:""},model:{value:e.Color,callback:function(a){t.$set(e,"Color",a)},expression:"element.Color"}}),a("b-button",{attrs:{variant:"success",size:"sm"},on:{click:function(a){return t.EditScene(e)}}},[t._v("Zapisz")])],1)],1)])],1):t._e()],1)],1)})),0)],1)],1)},X=[],Y=(a("159b"),a("841c"),a("caad"),a("2532"),a("b76a")),tt=a.n(Y),et=a("1da1"),at=(a("96cf"),{data:function(){return{file:null,file2:null,fileError:null,NewImage:{Title:"Testy"},rand:10}},computed:{imgRand:function(){return this.imgRdn()}},methods:{imgRdn:function(){return this.rand=this.rand+Math.random(),this.rand},AddNewFile:function(t,e){var a=this;return Object(et["a"])(regeneratorRuntime.mark((function o(){var n;return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:if(a.fileError="",null==e){o.next=9;break}if(n=new FormData,n.append("file",e),n.append("data",JSON.stringify(t)),"image/jpeg"!==e["type"]&&"image/png"!==e["type"]&&"image/png"!==e["type"]){o.next=9;break}return o.next=8,x.a.post("http://localhost:5000/api/Upload/",n,{headers:{authorization:localStorage.getItem("token")}}).then((function(e){200===e.status&&console.log("ADDNEWFILE RES: ",t,e),a.error=""}),(function(t){console.log("ADDNEWFILE ERR: ",t.response),a.error=t.response.data.errors.Name[0]}));case 8:return o.abrupt("return",o.sent);case 9:case"end":return o.stop()}}),o)})))()},UpdateFile:function(t,e){var a=this;return Object(et["a"])(regeneratorRuntime.mark((function o(){var n,i;return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:if(a.fileError="",n=t,null==e){o.next=10;break}if(i=new FormData,i.append("file",e),i.append("data",JSON.stringify(n)),"image/jpeg"!==e["type"]&&"image/png"!==e["type"]&&"image/jpeg"!==e["type"]){o.next=10;break}return o.next=9,x.a.put("http://localhost:5000/api/Upload/",i,{headers:{authorization:localStorage.getItem("token")}}).then((function(t){200===t.status&&console.log("UPDATEFILE RES:",t),a.error=""}),(function(t){console.log("ADDNEWFILE ERR: ",t.response),a.error=t.response.data.errors.Name[0]}));case 9:return o.abrupt("return",o.sent);case 10:case"end":return o.stop()}}),o)})))()},handleFileUpload:function(){this.file=this.$refs.file.files[0]}}}),ot={data:function(){return{}},computed:{},methods:{ShowModal:function(t,e,a,o,n){return this.$bvModal.msgBoxConfirm(t,{title:e,size:"sm",buttonSize:"sm",okVariant:n,okTitle:a,cancelTitle:o,footerClass:"p-2",hideHeaderClose:!1,centered:!0})},ShowToast:function(t,e,a,o,n,i){this.$bvToast.toast(t,{title:e,solid:!0,autoHideDelay:a,variant:o,appendToast:n,noAutoHide:i,toaster:"b-toaster-bottom-right"})}}},nt=(a("b64b"),{data:function(){return{}},computed:{},methods:{Search:function(t){return console.log(this.search),null===this.search||""===this.search||(!!t.Title.toLowerCase().includes(this.search.toLowerCase())||!!t.Description.toLowerCase().includes(this.search.toLowerCase()))},start:function(t){this.$router.push({name:"main",params:{scenID:t.ID}})},imgRdn:function(){return this.rand=this.rand+Math.random(),this.rand},AddNew:function(t){var e=this;return Object(et["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t.preventDefault(),a.next=3,x.a.post("http://localhost:5000/api/Segment",e.NewScenerio,{headers:{Authorization:localStorage.getItem("token")}}).then((function(t){if(200===t.status){var a={SegScenerioID:t.data.ScenID};e.AddNewFile(a,e.file).then((function(){return e.getall()})),e.$store.commit("UseToast",["success","Właśnie dodałeś nowy scenariusz","Dodano scenariusz",4e3]),Object.keys(e.NewScenerio).forEach((function(t){return e.NewScenerio[t]=null})),e.file=null}}),(function(t){console.log(t)}));case 3:case"end":return a.stop()}}),a)})))()},EditScene:function(t){var e=this;return Object(et["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,x.a.put("http://localhost:5000/api/Segment",t,{headers:{Authorization:localStorage.getItem("token")}}).then((function(a){200===a.status&&(console.log(a.data),e.edit=null,e.UpdateFile(t.DataImages[0],e.updateFile).then((function(){return e.getall()})))}),(function(t){console.log(t),e.$store.commit("UseAlert",["danger","Niestety zapis nie powiódł sie",6])}));case 2:case"end":return a.stop()}}),a)})))()},UpdateScen:function(t){return Object(et["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,x.a.put("http://localhost:5000/api/Segment/All",t,{headers:{Authorization:localStorage.getItem("token")}}).then((function(t){200===t.status&&console.log(t.data)}),(function(t){console.log(t)}));case 2:case"end":return e.stop()}}),e)})))()},removeElement:function(t){var e=this;return Object(et["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,e.$bvModal.msgBoxConfirm("Czy usunąć elemnt: "+t.Title,{title:"Potwierdź działanie",size:"sm",buttonSize:"sm",okVariant:"danger",okTitle:"Tak",cancelTitle:"Nie",footerClass:"p-2",hideHeaderClose:!1,centered:!0}).then((function(a){!0===a&&x.a.delete("http://localhost:5000/api/Segment",{headers:{Authorization:localStorage.getItem("token")},data:t}).then((function(a){200===a.status&&(console.log(a.data),e.getall(),e.$store.commit("UseToast",["danger",'Element: "'+t.Title+'" został usunięty!',"Usunięto element",5e3]))}),(function(t){console.log(t)}))})).catch((function(t){console.log("remove Error: ",t)}));case 2:case"end":return a.stop()}}),a)})))()},getall:function(){var t=this;return Object(et["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.$store.commit("SetLoadingWheel",{set:!0,name:"scenerio"}),e.next=3,x.a.get("http://localhost:5000/api/Segment",{headers:{Authorization:localStorage.getItem("token")}}).then((function(e){200===e.status&&(console.log("getAll",e.data),t.imgRdn(),t.Scenerios=e.data.list,t.$store.commit("SetLoadingWheel",{set:!1,name:"scenerio"}))}),(function(e){console.log("getAll",e),t.$store.commit("SetLoadingWheel",{set:!1,name:"scenerio"}),t.$store.commit("UseAlert",["danger ","Nie udało się załadować scenariuszy , błąd servera",5])}));case 3:case"end":return e.stop()}}),e)})))()},getallAdm:function(){var t=this;return Object(et["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.$store.commit("SetLoadingWheel",{set:!0,name:"scenerio"}),e.next=3,x.a.get("http://localhost:5000/api/Segment/adm",{headers:{Authorization:localStorage.getItem("token")}}).then((function(e){200===e.status&&(console.log("getAll",e.data),t.imgRdn(),t.Scenerios=e.data.list,t.$store.commit("SetLoadingWheel",{set:!1,name:"scenerio"}))}),(function(e){console.log("getAll",e),t.$store.commit("SetLoadingWheel",{set:!1,name:"scenerio"}),t.$store.commit("UseAlert",["danger ","Nie udało się załadować scenariuszy , błąd servera",5])}));case 3:case"end":return e.stop()}}),e)})))()}}}),it={mixins:[at,ot,nt],name:"scenerios",order:5,props:["search"],components:{draggable:tt.a,LoadingWheel:v},data:function(){return{MTBar:{Lock:!0,Width:"20px",WidthOn:"50px",WidthOff:"20px"},NewScenerio:{Title:null,Color:null,Position:1,Image:null,Description:null},NewImage:{Title:"Testy"},Scenerios:null,edit:null,file:null,updateFile:null,fileError:"",serverError:"",rand:0}},mounted:function(){null===localStorage.getItem("role")?(this.$store.commit("UseAlert",["danger","Zaloguj się lub zarejestruj",4]),this.$router.push("/login")):this.getall()},computed:{imgRand:function(){return this.rand},dragOptions:function(){var t=[];return null!==this.Scenerios&&this.Scenerios.forEach((function(e,a){e.Position!==a&&(e.Position=a,t.push(e))})),0!=t.length&&this.UpdateScen(t),console.log(t),{animation:200,group:"description",disabled:!1,ghostClass:"ghost"}}},methods:{Search:function(t){return console.log(this.search),null===this.search||""===this.search||(!!t.Title.toLowerCase().includes(this.search.toLowerCase())||!!t.Description.toLowerCase().includes(this.search.toLowerCase()))},start:function(t){this.$router.push({name:"main",params:{scenID:t.ID}})},imgRdn:function(){return this.rand=this.rand+Math.random(),this.rand}}},st=it,rt=(a("7809"),Object(u["a"])(st,Q,X,!1,null,"7df0a8f7",null)),lt=rt.exports,ct=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"GenerealContaintr"},[a("DataSeg",{attrs:{ClickedNest:t.ClickedNest},on:{CloseNest:function(e){t.ClickedNest=e}}}),a("LoadingWheel",{attrs:{MyName:"oneScenerio"}}),a("div",{directives:[{name:"show",rawName:"v-show",value:null===t.ClickedNest,expression:"ClickedNest===null"}],staticClass:"MainToolBar",attrs:{vertical:""}},[a("b-row",{attrs:{"align-v":"center"}},[a("b-col",[a("b-icon",{staticClass:"MTBicon",attrs:{title:"Dodaj element",icon:"plus-square"},on:{click:function(e){return t.AddMain(t.Scenerio)}}})],1)],1),a("div",{staticClass:"MenuTitle"},[t._v(" Menu ")])],1),null!=t.Scenerio?a("div",{staticClass:"MainItemContainer"},[a("draggable",t._b({staticClass:"MainList",attrs:{list:t.Scenerio.SegMains,draggable:".item",handle:".handleMain",group:"a"},on:{change:t.MainPositionChange}},"draggable",t.dragOptions,!1),[a("transition-group",{attrs:{name:"mainlist",tag:"p"}},t._l(t.Scenerio.SegMains,(function(e,o){return a("div",{directives:[{name:"show",rawName:"v-show",value:t.Search(e),expression:"Search(mainElement)"}],key:e.ID,staticClass:"item MainItem",style:{"border-color":e.Color,"background-color":e.Color+"60"},attrs:{name:"cosdziala"}},[a("b-button-toolbar",[a("transition",{attrs:{name:"slide-fade",mode:"out-in"}},[t.Edit!==e.ID?a("b-button-group",{key:"1",staticClass:"MainTolbar"},[a("b-button",{staticClass:"handleMain",attrs:{title:"Przesuń"}},[a("b-icon",{attrs:{icon:"arrows-move","aria-hidden":"true"}})],1),a("b-dropdown",{scopedSlots:t._u([{key:"button-content",fn:function(){return["StatNotExecuted"===e.Status?a("b-icon",{staticClass:"ColorBlue",attrs:{icon:"bookmark","aria-hidden":"true"}}):t._e(),"StatExecuted"===e.Status?a("b-icon",{staticClass:"ColorGreen",attrs:{icon:"bookmark-check","aria-hidden":"true"}}):t._e(),"StatMissed"===e.Status?a("b-icon",{staticClass:"ColorOrange",attrs:{icon:"bookmark-dash","aria-hidden":"true"}}):t._e(),"StatLost"===e.Status?a("b-icon",{staticClass:"ColorRed",attrs:{icon:"bookmark-x","aria-hidden":"true"}}):t._e()]},proxy:!0}],null,!0)},[a("b-dropdown-item-button",{on:{click:function(a){e.Status="StatNotExecuted",t.UpdateMainStatus(e)}}},[a("b-icon",{staticClass:"ColorBlue",attrs:{icon:"bookmark","aria-hidden":"true"}}),t._v(" Niewykonane ")],1),a("b-dropdown-item-button",{on:{click:function(a){e.Status="StatExecuted",t.UpdateMainStatus(e)}}},[a("b-icon",{staticClass:"ColorGreen",attrs:{icon:"bookmark-check","aria-hidden":"true"}}),t._v(" Wykonane ")],1),a("b-dropdown-item-button",{on:{click:function(a){e.Status="StatMissed",t.UpdateMainStatus(e)}}},[a("b-icon",{staticClass:"ColorOrange",attrs:{icon:"bookmark-dash","aria-hidden":"true"}}),t._v(" Pominięte ")],1),a("b-dropdown-item-button",{on:{click:function(a){e.Status="StatLost",t.UpdateMainStatus(e)}}},[a("b-icon",{staticClass:"ColorRed",attrs:{icon:"bookmark-x","aria-hidden":"true"}}),t._v(" Utracone ")],1),a("b-dropdown-divider")],1),a("b-button",{attrs:{title:"Dodaj nowy element"},on:{click:function(a){return t.AddNested(e)}}},[a("b-icon",{attrs:{icon:"plus-circle","aria-hidden":"true"}})],1),a("b-button",{staticClass:"handleMain",attrs:{title:"Przesuń"},on:{click:function(a){t.Edit=e.ID}}},[a("b-icon",{attrs:{icon:"pencil","aria-hidden":"true"}})],1)],1):t._e(),t.Edit===e.ID?a("b-button-group",{key:"2",staticClass:"MainTolbar"},[a("b-button",{attrs:{title:"Wybierz kolor"}},[a("label",{style:{"background-color":e.Color},attrs:{id:"inpColor_wrapper"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.Color,expression:"mainElement.Color"}],attrs:{id:"inpColor",type:"color"},domProps:{value:e.Color},on:{input:function(a){a.target.composing||t.$set(e,"Color",a.target.value)}}})])]),a("b-button",{attrs:{title:"Zapisz"},on:{click:function(a){return t.UpdateMain(e)}}},[a("b-icon",{staticStyle:{color:"#16b922"},attrs:{icon:"file-earmark-arrow-up","aria-hidden":"true"}})],1),a("b-button",{attrs:{title:"Usuń element"},on:{click:function(a){return t.DeleteMain(e,o)}}},[a("b-icon",{staticStyle:{color:"#840a0a"},attrs:{icon:"x-square","aria-hidden":"true"}})],1),a("b-button",{attrs:{title:"Powrót"},on:{click:function(e){t.Edit=!1}}},[a("b-icon",{attrs:{icon:"arrow-left","aria-hidden":"true"}})],1)],1):t._e()],1),a("div",{class:"MainBookmarkColor "+e.Status})],1),t.Edit!==e.ID?a("div",{staticClass:"MainTitle text-truncate",attrs:{title:e.Title}},[t._v(" "+t._s(null!=e.Title?e.Title:"Tytuł")+" ")]):t._e(),t.Edit===e.ID?a("div",{staticClass:"MainTitle"},[a("b-form-input",{attrs:{type:"text",size:"sm",placeholder:"Tytuł"},model:{value:e.Title,callback:function(a){t.$set(e,"Title",a)},expression:"mainElement.Title"}})],1):t._e(),a("draggable",t._b({staticClass:"list-group NestList",style:{"background-color":e.Color+"80"},attrs:{list:e.SegNesteds,draggable:".item",handle:".handleNest",group:"b"},on:{change:t.NestPositionChange}},"draggable",t.dragOptions,!1),t._l(e.SegNesteds,(function(e){return a("div",{key:e.ID,staticClass:" item NestItem",style:{"background-color":e.Color}},[a("transition",{attrs:{name:"NestTolbar"}},[t.NestEdit===e.ID?a("b-button-group",{key:"2",staticClass:"NestTollbar",attrs:{size:"sm"}},[a("b-button",{attrs:{title:"Wybierz kolor"}},[a("label",{style:{"background-color":e.Color},attrs:{id:"inpColor_wrapper"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.Color,expression:"element.Color"}],attrs:{id:"inpColor",type:"color"},domProps:{value:e.Color},on:{input:function(a){a.target.composing||t.$set(e,"Color",a.target.value)}}})])]),a("b-button",{attrs:{title:"Avatar"}},[a("b-form-file",{staticStyle:{display:"none"},attrs:{id:"file1",accept:"image/png, image/jpg, image/jpeg",placeholder:"Wybierz lub upuść tutaj plik...","drop-placeholder":"Upuść plik tutaj..."},model:{value:t.file,callback:function(e){t.file=e},expression:"file"}}),a("b-icon",{attrs:{icon:"images",onclick:"document.getElementById('file1').click()","aria-hidden":"true"}})],1),a("b-button",{attrs:{title:"Zapisz"},on:{click:function(a){return t.UpdateNest(e)}}},[a("b-icon",{staticStyle:{color:"#16b922"},attrs:{icon:"file-earmark-arrow-up","aria-hidden":"true"}})],1),a("b-button",{attrs:{title:"Usuń element"},on:{click:function(a){return t.RemoveNest(e)}}},[a("b-icon",{staticStyle:{color:"#840a0a"},attrs:{icon:"x-square","aria-hidden":"true"}})],1),a("b-button",{attrs:{title:"Powrót"},on:{click:function(e){t.NestEdit=!1}}},[a("b-icon",{attrs:{icon:"arrow-right","aria-hidden":"true"}})],1)],1):t._e()],1),a("div",{directives:[{name:"show",rawName:"v-show",value:null!==e.DataImages,expression:"element.DataImages !== null"}],staticClass:"NetsAvatar handleNest",on:{click:function(a){return t.ClickNest(e)}}},[a("b-img",{attrs:{src:null===e.DataImages?"none":"http://localhost:5000/"+e.DataImages.Path+"?random="+t.imgRand,fluid:"",alt:"Responsive image"}})],1),t.NestEdit!==e.ID?a("div",{staticClass:"NestTools"},[a("b-icon",{staticClass:"TolsIcon",attrs:{icon:"grid","aria-hidden":"true"},on:{click:function(a){t.NestEdit=e.ID}}})],1):t._e(),a("div",{staticClass:"NestTitle text-truncate handleNest",attrs:{title:e.Title},on:{click:function(a){return t.ClickNest(e)}}},[t._v(" "+t._s(e.Title)+" ")]),t.NestEdit===e.ID?a("div",{staticClass:"NestContent"},[a("b-form-input",{attrs:{type:"text",size:"sm",placeholder:"Tytuł"},model:{value:e.Title,callback:function(a){t.$set(e,"Title",a)},expression:"element.Title"}})],1):t._e()],1)})),0)],1)})),0)],1)],1):t._e()],1)},ut=[],dt={data:function(){return{}},computed:{},methods:{UpdateNest:function(t){var e,a=this;e=null===t.DataImages?{SegNestedID:t.ID}:t.DataImages,null!==this.file&&(null===t.DataImages?this.AddNewFile(e,this.file).then((function(){console.log("Zdjęcie dodano"),a.file=null})):this.UpdateFile(e,this.file).then((function(){console.log("Zdjęcie Zmieniono"),a.file=null}))),x.a.put("http://localhost:5000/api/SegNested",t,{headers:{Authorization:localStorage.getItem("token")}}).then((function(e){console.log("Update nest",e.data),a.NestEdit=!1,a.ShowToast("Zmiany zostały zapisane","Sukces",3e3,"success",!0,!1),a.GetMainByID(t.SegMainID)}),(function(t){console.log("Update Error",t),a.NestEdit=!1}))},NestPositionChange:function(){var t=[];null!==this.Scenerio.SegMains&&this.Scenerio.SegMains.forEach((function(e){0!=e.SegNesteds.length&&e.SegNesteds.forEach((function(a,o){a.Position===o&&a.SegMainID===e.ID||(a.Position=o,a.SegMainID=e.ID,t.push({ID:a.ID,Position:a.Position,SegMainID:a.SegMainID}))}))})),0!=t.length&&this.UdataAllNest(t),console.log("Nest Elements:",t,"AllMains:",this.Scenerio.Mains)},UdataAllNest:function(t){var e=this;x.a.put("http://localhost:5000/api/SegNested/All",t,{headers:{Authorization:localStorage.getItem("token")}}).then((function(t){console.log("Update nest",t.data),e.Edit=!1}),(function(t){console.log("Update Error",t),e.Edit=!1}))},AddNested:function(t){var e=this,a={SegMainID:t.ID,Color:"#7fffd4"};x.a.post("http://localhost:5000/api/SegNested/",a,{headers:{Authorization:localStorage.getItem("token")}}).then((function(a){console.log("AddNest",a.data),null!=t.SegNesteds?t.SegNesteds.push(a.data.nest):t.SegNesteds=[a.data.nest],e.ShowToast("Element dodany","Sukces",2e3,"success",!0,!1)}),(function(t){console.log("AddNest",t)}))},RemoveNest:function(t){var e=this;this.ShowModal("Czy na pewno chcesz usunąć ten element","Potwierdź działanie","Tak","Nie","danger").then((function(a){if(!0===a){console.log(t);var o={ID:t.ID};x.a.delete("http://localhost:5000/api/SegNested/",{headers:{Authorization:localStorage.getItem("token")},data:o}).then((function(a){console.log("Delete",a.data),e.ShowToast("Element podrzędny został usunięty","info",2e3,"danger",!0,!1),e.GetMainByID(t.SegMainID)}),(function(t){console.log("Delete",t)}))}}))}}},mt=(a("a434"),{data:function(){return{}},computed:{},methods:{Search:function(t){return null===this.search||""===this.search||null!==t.Title&&!!t.Title.toLowerCase().includes(this.search.toLowerCase())},ClickNest:function(t){this.ClickedNest=t},MainPositionChange:function(){var t=[];null!==this.Scenerio.SegMains&&this.Scenerio.SegMains.forEach((function(e,a){e.Position!==a&&(e.Position=a,t.push({ID:e.ID,Position:e.Position}))})),0!=t.length&&this.UdataAllMain(t),console.log(t)},UpdateMain:function(t){var e=this;return Object(et["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,x.a.put("http://localhost:5000/api/SegMain/",t,{headers:{Authorization:localStorage.getItem("token")}}).then((function(t){console.log("Position change",t.data),e.Edit=!1,e.ShowToast("Zmiany zostały zapisane","Sukces",3e3,"success",!0,!1)}),(function(t){console.log("Position Error",t),e.Edit=!1}));case 2:case"end":return a.stop()}}),a)})))()},UpdateMainStatus:function(t){var e=this;return Object(et["a"])(regeneratorRuntime.mark((function a(){var o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return o={ID:t.ID,Status:t.Status},console.log("main: ",t),a.next=4,x.a.put("http://localhost:5000/api/SegMain/Status",o,{headers:{Authorization:localStorage.getItem("token")}}).then((function(t){console.log("Position change",t.data),e.Edit=!1,e.ShowToast("Zmiany zostały zapisane","Sukces",3e3,"success",!0,!1)}),(function(t){console.log("Position Error",t),e.Edit=!1}));case 4:case"end":return a.stop()}}),a)})))()},UdataAllMain:function(t){return Object(et["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,x.a.put("http://localhost:5000/api/SegMain/all",t,{headers:{Authorization:localStorage.getItem("token")}}).then((function(t){console.log("Position change",t.data)}),(function(t){console.log("Position Error",t)}));case 2:case"end":return e.stop()}}),e)})))()},GetMainByID:function(t){var e=this;return Object(et["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,x.a.get("http://localhost:5000/api/SegMain/ByMainId/"+t,{headers:{Authorization:localStorage.getItem("token")}}).then((function(t){200===t.status&&(console.log("Main updated",t.data.main),e.Scenerio.SegMains.forEach((function(a,o){a.ID===t.data.main.ID&&e.Scenerio.SegMains.splice(o,1,t.data.main)})),e.imgRdn())}),(function(t){console.log("Main update ERROR",t),e.$store.commit("UseAlert",["danger ","Nie udało Wprowadzić niektórych zmian",5])}));case 2:case"end":return a.stop()}}),a)})))()},GetMainAdm:function(){var t=this;return Object(et["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,x.a.get("http://localhost:5000/api/SegMain/all/",{headers:{Authorization:localStorage.getItem("token")}}).then((function(e){console.log("MainAdm all: ",e),t.Mains=e.data}),(function(e){console.log("Main update ERROR",e),t.$store.commit("UseAlert",["danger ","Nie udało Wprowadzić niektórych zmian",5])}));case 2:case"end":return e.stop()}}),e)})))()},GetScenerio:function(){var t=this;return Object(et["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,x.a.get("http://localhost:5000/api/SegMain/ByScenId/"+t.ActiveScenerioID,{headers:{Authorization:localStorage.getItem("token")}}).then((function(e){200===e.status&&(console.log("getOne",e.data),console.log("only mains",e.data.scenerio.SegMains),t.Scenerio=e.data.scenerio)}),(function(e){console.log("getOne",e),t.$store.commit("UseAlert",["danger ","Nie udało się załadować scenariusza , błąd servera",5])}));case 2:case"end":return e.stop()}}),e)})))()},AddMain:function(t){var e=this;return Object(et["a"])(regeneratorRuntime.mark((function a(){var o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return o={SegScenerioID:t.ID,Color:"#36bdf7"},a.next=3,x.a.post("http://localhost:5000/api/SegMain/",o,{headers:{Authorization:localStorage.getItem("token")}}).then((function(a){console.log("AddMain",a.data),t.SegMains.push(a.data.main),e.ShowToast("Element dodany","Sukces",4e3,"success",!0,!1)}),(function(t){console.log("AddMain",t)}));case 3:case"end":return a.stop()}}),a)})))()},DeleteMain:function(t,e){var a=this;return Object(et["a"])(regeneratorRuntime.mark((function o(){return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:return o.next=2,a.ShowModal("Czy na pewno chcesz usunąć ten element","Potwierdź działanie","Tak","Nie","danger").then((function(o){if(o){var n={ID:t.ID,SegScenerioID:t.SegScenerioID};x.a.delete("http://localhost:5000/api/SegMain/",{headers:{Authorization:localStorage.getItem("token")},data:n}).then((function(t){console.log("Delete",t.data),a.Scenerio.SegMains.splice(e,1),a.ShowToast("Element usunięty","Sukces",4e3,"info",!0,!1)}),(function(t){console.log("Delete",t),a.ShowToast("Wystapił błąd poczas jednej z operacji","Błąd",4e3,"danger",!0,!1)}))}}));case 2:case"end":return o.stop()}}),o)})))()},DeleteMainAdm:function(t,e){var a=this;return Object(et["a"])(regeneratorRuntime.mark((function o(){return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:return o.next=2,a.ShowModal("Czy na pewno chcesz usunąć ten element","Potwierdź działanie","Tak","Nie","danger").then((function(o){if(o){var n={ID:t.ID,SegScenerioID:t.SegScenerioID};x.a.delete("http://localhost:5000/api/SegMain/",{headers:{Authorization:localStorage.getItem("token")},data:n}).then((function(t){console.log("Delete",t.data),a.Mains.splice(e.index,1),a.ShowToast("Element usunięty","Sukces",4e3,"info",!0,!1)}),(function(t){console.log("Delete",t),a.ShowToast("Wystapił błąd poczas jednej z operacji","Błąd",4e3,"danger",!0,!1)}))}}));case 2:case"end":return o.stop()}}),o)})))()}}}),gt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return null!==t.ClickedNest?a("div",[a("div",{directives:[{name:"show",rawName:"v-show",value:null!==t.ClickedNest,expression:"ClickedNest!==null"}],staticClass:"MainToolBar",attrs:{vertical:""}},[a("div",{staticClass:"MenuTitle"},[t._v(" Menu ")]),a("b-row",{attrs:{"align-v":"center"}},[a("b-col",[a("b-icon",{staticClass:"MTBicon",attrs:{title:"Dotaj pole tekstowe",icon:"textarea-t"},on:{click:function(e){return t.AddSegData("TextArea")}}})],1)],1),a("b-row",{attrs:{"align-v":"center"}},[a("b-col",[a("b-icon",{staticClass:"MTBicon",attrs:{title:"Dotaj zadania",icon:"card-checklist"},on:{click:function(e){return t.AddSegData("Task")}}})],1)],1),a("b-row",{attrs:{"align-v":"center"}},[a("b-col",[a("b-icon",{staticClass:"MTBicon",attrs:{title:"Dodaj element",icon:"images"},on:{click:function(e){return t.AddSegData("Image")}}})],1)],1),a("b-row",{attrs:{"align-v":"center"}},[a("b-col",[a("b-icon",{staticClass:"MTBicon",attrs:{title:"Dodaj element",icon:"person-square"},on:{click:function(e){return t.AddSegData("Character")}}})],1)],1)],1),a("div",{staticClass:"NDBackground",on:{click:t.CloseNest}}),a("div",{directives:[{name:"show",rawName:"v-show",value:null!==t.ClickedNest,expression:"ClickedNest !== null"}],staticClass:"NDContainer",style:{border:"solid 1px "+t.ClickedNest.Color,"max-width":t.ClickedNest.Width+"px"}},[t.Resize?a("b-form-input",{attrs:{id:"range-2",type:"range",min:"900",max:"1500"},on:{change:function(e){return t.UpdateNestWidth({ID:t.ClickedNest.ID,Width:t.ClickedNest.Width})}},model:{value:t.ClickedNest.Width,callback:function(e){t.$set(t.ClickedNest,"Width",e)},expression:"ClickedNest.Width"}}):t._e(),a("div",{staticClass:"NDTitle text-truncate"},[t._v("Tytuł: "+t._s(t.ClickedNest.Title)+" "),a("b-icon",{staticClass:"IconRight",attrs:{icon:"arrows-angle-expand"},on:{click:function(e){t.Resize=!t.Resize}}})],1),a("LoadingWheel",{attrs:{MyName:"Nested"}}),a("draggable",t._b({attrs:{list:t.SegDatas,draggable:".item",handle:".NDHandle",group:"a"},on:{change:function(e){return t.ChangePosition()}}},"draggable",t.dragOptions,!1),t._l(t.SegDatas,(function(e,o){return a("div",{key:e.ID,staticClass:"item"},[a("div",{staticClass:"NDCard"},[a("transition",{attrs:{name:"fade",mode:"out-in"}},[t.SegEdit!==e.ID?a("div",{key:"1",staticClass:"EditSegData"},[a("b-icon",{staticClass:"IconPencil IconRight",attrs:{icon:"pencil"},on:{click:function(a){t.SegEdit=e.ID}}})],1):t._e(),t.SegEdit===e.ID?a("div",{key:"2",staticClass:"NDToolBar"},[a("b-icon",{staticClass:"NDHandle IconLeft IconMove",attrs:{icon:"arrows-move",title:"złap u przesuń"}}),a("b-icon",{staticClass:"IconRight IconBack",attrs:{icon:"arrow-Right"},on:{click:function(e){t.SegEdit=null}}}),a("b-icon",{staticClass:"IconRight IconSave",attrs:{icon:"file-earmark-arrow-up"},on:{click:function(a){return t.SaveSegData(e)}}}),a("b-icon",{staticClass:"IconRight IconRemove",attrs:{icon:"x-square"},on:{click:function(a){return t.RemoveSegData(e,o)}}}),"Task"===e.Type?a("div",{staticClass:"NDCustomToolbar"},[a("b-icon",{staticClass:"IconRight",attrs:{icon:"plus-square"},on:{click:function(a){return t.AddDataText(e,"Task")}}})],1):t._e(),"Character"===e.Type?a("div",{staticClass:"NDCustomToolbar"},[a("b-icon",{staticClass:"IconRight",attrs:{icon:"plus-square",title:"Dodaj Bohatera"},on:{click:function(a){return t.AddDataObject(e,"Character")}}})],1):t._e(),"Image"===e.Type?a("div",{staticClass:"NDCustomToolbar"},[a("b-form-file",{staticStyle:{display:"none"},attrs:{id:"file1",accept:"image/png, image/jpg, image/jpeg",placeholder:"Wybierz lub upuść tutaj plik...","drop-placeholder":"Upuść plik tutaj..."},model:{value:t.file,callback:function(e){t.file=e},expression:"file"}}),a("b-icon",{staticClass:"IconRight",attrs:{icon:"image",title:"Dodaj zdjęcie",onclick:"document.getElementById('file1').click()","aria-hidden":"true"}})],1):t._e()],1):t._e()]),"TextArea"===e.Type?a("vue-editor",{attrs:{editorToolbar:t.customToolbar},on:{blur:function(a){return t.SaveDataText(e.DataTexts[0])}},model:{value:e.DataTexts[0].DataString,callback:function(a){t.$set(e.DataTexts[0],"DataString",a)},expression:"element.DataTexts[0].DataString"}}):t._e(),"Task"===e.Type?a("div",{staticClass:"NDTasks"},[a("div",{staticClass:"NDTitle TaskTitle text-truncate"},[a("b-row",[a("b-col",{attrs:{cols:"10"}},[t.SegEdit!==e.ID?a("div",[t._v("Zadania: "+t._s(e.Title)+" ")]):t._e(),t.SegEdit===e.ID?a("div",[a("b-form-input",{attrs:{size:"sm",placeholder:"Tytuł zadania:"},model:{value:e.Title,callback:function(a){t.$set(e,"Title",a)},expression:"element.Title"}})],1):t._e()]),a("b-col",{staticClass:"text-right",attrs:{cols:"2"}},[a("b-row",[a("b-col",[a("b-form-checkbox",{attrs:{switch:""},on:{change:function(a){return t.SaveSegData(e)}},model:{value:e.Show,callback:function(a){t.$set(e,"Show",a)},expression:"element.Show"}})],1)],1)],1)],1)],1),a("b-collapse",{model:{value:e.Show,callback:function(a){t.$set(e,"Show",a)},expression:"element.Show"}},[a("draggable",t._b({attrs:{list:e.DataTexts,draggable:".item2",handle:".TaskHandle",group:"b"},on:{change:function(a){return t.ChangeDataTextPosition(e.DataTexts,e.ID)}}},"draggable",t.dragOptions,!1),[a("transition-group",{attrs:{name:"AddRemove",tag:"p"}},t._l(e.DataTexts,(function(o,n){return a("div",{key:o.ID,staticClass:"NDTaskRow item2"},[a("b-row",{staticClass:"text-left",attrs:{"align-h":"start"}},[o.DataInt>0?a("b-icon",{staticClass:"mt-1",attrs:{icon:"check-circle-fill",scale:"1",variant:"success"}}):t._e(),0==o.DataInt?a("b-icon",{staticClass:"mt-1",attrs:{icon:"x-square-fill",scale:"1",variant:"danger"}}):t._e(),null===o.DataInt||"-1"==o.DataInt?a("b-icon",{staticClass:"mt-1",attrs:{icon:"exclamation-triangle-fill",scale:"1",variant:"warning"}}):t._e(),t.SegEdit!==e.ID?a("b-col",{staticClass:"text-truncate TaskHandle"},[null===o.Name?a("div",[t._v("Zadanie:")]):t._e(),t._v(" "+t._s(o.Name)+" ")]):t._e(),t.SegEdit===e.ID?a("b-col",[a("b-form-input",{attrs:{size:"sm",placeholder:"Zadanie:"},model:{value:o.Name,callback:function(e){t.$set(o,"Name",e)},expression:"dataText.Name"}})],1):t._e(),t.SegEdit!==e.ID?a("b-col",{attrs:{cols:"6"}},[a("b-form-group",[a("b-form-radio-group",{on:{change:function(e){return t.SaveDataText(o)}},model:{value:o.DataInt,callback:function(e){t.$set(o,"DataInt",e)},expression:"dataText.DataInt"}},[a("b-form-radio",{attrs:{value:"100"}},[t._v("sukces")]),a("b-form-radio",{attrs:{value:"50"}},[t._v("1/2")]),a("b-form-radio",{attrs:{value:"20"}},[t._v("1/5")]),a("b-form-radio",{attrs:{value:"0"}},[t._v("porażka")]),a("b-form-radio",{attrs:{value:"-1"}},[t._v("Brak")])],1)],1)],1):t._e(),a("div",{staticClass:"IconTask",attrs:{title:"Więcej ->"}},[a("b-icon",{directives:[{name:"b-toggle",rawName:"v-b-toggle",value:"collapse"+o.ID,expression:"'collapse'+dataText.ID+''"}],attrs:{icon:"box-arrow-down"}})],1),t.SegEdit===e.ID?a("div",{staticClass:"IconTask IconRemove",attrs:{title:"Usuń"}},[a("b-icon",{attrs:{icon:"x-square"},on:{click:function(a){return t.RemoveDataText(o,n,e)}}})],1):t._e()],1),a("b-row",[a("b-col",{attrs:{cols:"12"}},[a("b-collapse",{staticClass:"mt-2",attrs:{id:"collapse"+o.ID}},[a("b-form-textarea",{attrs:{size:"sm",rows:o.Height,placeholder:"Opis zadania:"},on:{change:function(e){return t.SaveDataText(o)}},model:{value:o.DataString,callback:function(e){t.$set(o,"DataString",e)},expression:"dataText.DataString"}}),t.SegEdit===e.ID?a("b-form-input",{attrs:{id:"range-1",type:"range",min:"0",max:"15"},model:{value:o.Height,callback:function(e){t.$set(o,"Height",e)},expression:"dataText.Height"}}):t._e(),a("hr")],1)],1)],1)],1)})),0)],1)],1),a("b-progress",{staticClass:"mt-2",attrs:{max:e.DataTexts.length,"show-value":""}},[a("b-progress-bar",{attrs:{value:e.DataTexts.filter((function(t){return t.DataInt>0})).length,variant:"success"}}),a("b-progress-bar",{attrs:{value:e.DataTexts.filter((function(t){return"0"==t.DataInt})).length,variant:"danger"}}),a("b-progress-bar",{attrs:{value:e.DataTexts.filter((function(t){return null===t.DataInt||"-1"==t.DataInt})).length,variant:"warning"}})],1)],1):t._e(),"Image"===e.Type?a("div",{staticClass:"NDImage",style:{"max-height":e.Height+"px"}},[t.SegEdit===e.ID?a("div",{staticClass:"ImageConfig"},[a("b-row",[a("b-col",[a("b-form-input",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],attrs:{title:"Szerokość",id:"range-1",type:"range",min:"4",max:"12"},model:{value:e.Width,callback:function(a){t.$set(e,"Width",a)},expression:"element.Width"}})],1),a("b-col",[a("b-form-input",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],attrs:{title:"Wysokość max",id:"range-1",type:"range",min:"200",max:"1000"},model:{value:e.Height,callback:function(a){t.$set(e,"Height",a)},expression:"element.Height"}})],1)],1)],1):t._e(),a("b-row",{staticClass:"justify-content-md-center"},[a("b-col",{attrs:{cols:e.Width}},[a("b-carousel",{staticClass:"NDImagesSlider",staticStyle:{"text-shadow":"1px 1px 2px #333"},attrs:{id:"carousel-1",interval:t.interval,controls:"",indicators:"","img-width":"1024","img-height":"480",background:"#ababab"},on:{"sliding-start":t.onSlideStart,"sliding-end":t.onSlideEnd},model:{value:t.slide,callback:function(e){t.slide=e},expression:"slide"}},t._l(e.DataImages,(function(o){return a("b-carousel-slide",{key:o.ID,scopedSlots:t._u([{key:"img",fn:function(){return[a("img",{staticClass:"NDImage",style:{"max-height":e.Height+"px"},attrs:{src:null===o.Path?"none":"http://localhost:5000/"+o.Path+"?random="+t.imgRand,alt:"image slot"}})]},proxy:!0}],null,!0)},[t.SegEdit===e.ID?a("b-form-input",{attrs:{size:"sm",placeholder:"Tytuł:"},model:{value:o.Title,callback:function(e){t.$set(o,"Title",e)},expression:"dataImage.Title"}}):t._e(),t.SegEdit===e.ID?a("b-button",{staticClass:"mt-1",attrs:{variant:"danger",size:"sm"},on:{click:function(e){return t.RemoveDataImage(o)}}},[t._v("Usuń zdjęcie")]):t._e(),null!==o.Title&&t.SegEdit!==e.ID?a("span",{staticClass:"text-truncate"},[t._v(t._s(o.Title))]):t._e()],1)})),1)],1)],1)],1):t._e(),"Character"===e.Type?a("div",{staticClass:"NDObject"},[a("draggable",t._b({staticClass:"row wrap fill-height align-center sortable-list",attrs:{list:e.DataObjects,draggable:".item3",handle:".ObjectHandle",tag:"div",group:"C"},on:{change:function(a){return t.ChangeDataObjectPosition(e.DataObjects,e.ID)}}},"draggable",t.dragOptions,!1),t._l(e.DataObjects,(function(o,n){return a("div",{key:o.ID,staticClass:"item3"},[a("transition",{attrs:{name:"fade-object",mode:"out-in"}},["1"!=o.Data&&t.DataObjectEdit!==o.ID?a("div",{key:"1",staticClass:"ObjectAvatar AvatarList",on:{click:function(e){t.DataObjectEdit=o.ID}}},[a("div",{staticClass:"ObjectTitle text-truncate ObjectHandle"},[a("div",{staticClass:"text-truncate",attrs:{title:o.Fname}},[t._v(t._s(null!==o.Fname?o.Fname:"Nazwa:"))])]),null!==o.DataImages?a("img",{staticClass:"NDImage",attrs:{src:null===o.DataImages?"none":"http://localhost:5000/"+o.DataImages.Path+"?random="+t.imgRand,alt:"image slot"}}):a("b-icon",{staticClass:"AddImageObjectIcon",attrs:{icon:"image-alt"}})],1):t._e(),"1"==o.Data||t.DataObjectEdit===o.ID?a("div",{key:"2",staticClass:"ObjectContainer",style:{width:t.ClickedNest.Width-45+"px"}},[a("div",{staticClass:"ObjectCloseIcon text-right"},[a("b-row",[a("b-icon",{staticClass:"IconPencil",attrs:{icon:"box-arrow-left"},on:{click:function(e){t.DataObjectEdit=null}}})],1),a("b-row",[a("b-icon",{staticClass:"IconRight IconSave",attrs:{icon:"file-earmark-arrow-up"},on:{click:function(e){return t.SaveDataObject(o)}}})],1),a("b-row",[a("b-icon",{staticClass:"IconRemove",attrs:{icon:"x-square"},on:{click:function(a){return t.RemoveDataObject(o,n,e)}}})],1),a("b-row",[a("b-icon",{staticClass:"IconCoppy",attrs:{icon:"files"},on:{click:function(a){return t.AddCoppyDataObject(o,e)}}})],1),a("b-form-checkbox",{attrs:{value:"1","unchecked-value":"0",switch:""},model:{value:o.Data,callback:function(e){t.$set(o,"Data",e)},expression:"dataObject.Data"}})],1),a("b-row",[a("b-col",{attrs:{cols:"3"}},[a("div",{staticClass:"ObjectAvatar"},[a("div",{staticClass:"ObjectTitle text-truncate"},[t.SegEdit!==e.ID?a("div",[t._v(t._s(null!==o.Fname?o.Fname:"Nazwa:"))]):t._e(),t.SegEdit!==e.ID?a("div",[t._v(t._s(null!==o.Lname?o.Lname:""))]):t._e(),t.SegEdit===e.ID?a("b-form-input",{attrs:{size:"sm",type:"text",placeholder:"Imie:"},model:{value:o.Fname,callback:function(e){t.$set(o,"Fname",e)},expression:"dataObject.Fname"}}):t._e(),t.SegEdit===e.ID?a("b-form-input",{attrs:{size:"sm",type:"text",placeholder:"Nazwisko:"},model:{value:o.Lname,callback:function(e){t.$set(o,"Lname",e)},expression:"dataObject.Lname"}}):t._e()],1),a("b-form-file",{staticStyle:{display:"none"},attrs:{id:"file2",accept:"image/png, image/jpg, image/jpeg",placeholder:"Wybierz lub upuść tutaj plik...","drop-placeholder":"Upuść plik tutaj..."},model:{value:t.file2,callback:function(e){t.file2=e},expression:"file2"}}),null!==o.DataImages?a("img",{staticClass:"NDImage",attrs:{onclick:"document.getElementById('file2').click()",src:null===o.DataImages?"none":"http://localhost:5000/"+o.DataImages.Path+"?random="+t.imgRand,alt:"image slot"},on:{click:function(e){null!==o.DataImages?t.DataObjectImageID=o.DataImages.ID:t.DataObjectImageID=null}}}):a("b-icon",{staticClass:"AddImageObjectIcon",attrs:{onclick:"document.getElementById('file2').click()",icon:"file-earmark-image"},on:{click:function(e){null!==o.DataImages?t.DataObjectImageID=o.DataImages.ID:t.DataObjectImageID=null}}})],1)]),a("b-col",{attrs:{cols:"9"}},[a("b-row",{staticClass:" text-right"},[a("b-col",[a("b-row",{staticClass:"mt-1 mb-2"},[t._l(t.DataFieldsOf(o.DataFields,"Stat"),(function(o){return a("b-col",{key:o.ID,attrs:{cols:"4"}},[a("b-row",[a("b-col",{staticClass:"Stat text-truncate",attrs:{cols:"6"}},[a("b-form-input",{attrs:{size:"sm",title:o.Name,disabled:t.SegEdit!==e.ID,type:"text",placeholder:"Cecha:"},model:{value:o.Name,callback:function(e){t.$set(o,"Name",e)},expression:"dataField.Name"}})],1),a("b-col",{staticClass:"Stat text-truncate",attrs:{cols:"4"}},[a("b-form-input",{attrs:{size:"sm",type:"number"},model:{value:o.DataNumber,callback:function(e){t.$set(o,"DataNumber",e)},expression:"dataField.DataNumber"}})],1),t.SegEdit===e.ID?a("p",{staticClass:"StatRemoveIcon IconRemove",attrs:{title:"Usuń"}},[a("b-icon",{attrs:{icon:"x-square"},on:{click:function(e){return t.RemoveDataField(o)}}})],1):t._e()],1)],1)})),t.SegEdit===e.ID?a("b-col",{attrs:{cols:"4"}},[a("b-button",{staticClass:"AddNewStat",attrs:{size:"sm",variant:"success"},on:{click:function(e){return t.AddDataField(o,"Stat")}}},[a("b-icon",{staticClass:"mr-2",attrs:{icon:"plus-square"}}),t._v(" Dodaj Nowe Pole ")],1)],1):t._e()],2)],1)],1)],1)],1),a("vue-editor",{attrs:{editorToolbar:t.customToolbar},model:{value:o.Description,callback:function(e){t.$set(o,"Description",e)},expression:"dataObject.Description"}}),a("b-row",{staticClass:"mt-3 mb-2"},[t._l(t.DataFieldsOf(o.DataFields,"StatExtand"),(function(o){return a("b-col",{key:o.ID,attrs:{cols:"4"}},[a("b-row",[a("b-col",{staticClass:"Stat text-truncate",attrs:{cols:"8"}},[a("b-form-input",{attrs:{size:"sm",title:o.Name,disabled:t.SegEdit!==e.ID,type:"text",placeholder:"Nazwa cechy:"},model:{value:o.Name,callback:function(e){t.$set(o,"Name",e)},expression:"dataField.Name"}})],1),a("b-col",{staticClass:"Stat text-truncate",attrs:{cols:"2"}},[a("b-form-input",{attrs:{size:"sm",type:"number"},model:{value:o.DataNumber,callback:function(e){t.$set(o,"DataNumber",e)},expression:"dataField.DataNumber"}})],1),t.SegEdit===e.ID?a("p",{staticClass:"StatRemoveIcon IconRemove",attrs:{title:"Usuń"}},[a("b-icon",{attrs:{icon:"x-square"},on:{click:function(e){return t.RemoveDataField(o)}}})],1):t._e()],1)],1)})),t.SegEdit===e.ID?a("b-col",{attrs:{cols:"4"}},[a("b-button",{staticClass:"AddNewStat",attrs:{size:"sm",variant:"success"},on:{click:function(e){return t.AddDataField(o,"StatExtand")}}},[a("b-icon",{staticClass:"mr-2",attrs:{icon:"plus-square"}}),t._v(" Dodaj Nowe Pole ")],1)],1):t._e()],2)],1):t._e()])],1)})),0)],1):t._e()],1)])})),0)],1)]):t._e()},ht=[],pt=a("5873"),ft={mixins:[ot,at],name:"App",props:["ClickedNest"],components:{draggable:tt.a,LoadingWheel:v,VueEditor:pt["a"]},data:function(){return{slide:0,sliding:null,interval:4e3,visible:!1,SegDatas:null,SegEdit:null,DataObjectEdit:null,DataObjectImageID:null,Resize:!1,customToolbar:[[{header:[!1,1,2,3,4,5,6]}],["bold","italic","underline","strike"],[{align:""},{align:"center"},{align:"right"},{align:"justify"}],["blockquote","code-block"],[{list:"ordered"},{list:"bullet"},{list:"check"}],[{indent:"-1"},{indent:"+1"}],[{color:[]},{background:[]}],["link","video"],["clean"]]}},created:function(){},computed:{dragOptions:function(){return{animation:200,disabled:!1,ghostClass:"ghost"}}},watch:{ClickedNest:function(){null!==this.ClickedNest&&this.GetDataSegments()},file:function(){null!==this.file&&this.AddImage("DataSeg")},file2:function(){null!==this.file2&&this.AddImage("DataObject")},SegEdit:function(){null!==this.SegEdit?this.interval=0:this.interval=4e3}},methods:{test:function(){console.log("asdasd")},DataFieldsOf:function(t,e){return null!=t&&t.filter((function(t){return t.FieldType==e}))},onSlideStart:function(){this.sliding=!0},onSlideEnd:function(){this.sliding=!1},AddImage:function(t){var e=this,a=null,o=null;null!==this.SegEdit&&"DataSeg"===t?(a={SegDataID:this.SegEdit},o=this.file):null!==this.DataObjectEdit&&"DataObject"===t&&(a={DataObjectID:this.DataObjectEdit},null!=this.DataObjectImageID&&(a.ID=this.DataObjectImageID),o=this.file2),null!==a&&(console.log("img  TEMP",a,this.DataObjectImageID),null!==o&&(null!==this.DataObjectImageID?(console.log("jestem w Updata File"),this.UpdateFile(a,o).then((function(){e.ShowToast("Zdjęcie zmieniono","Informacje",4e3,"success",!0,!1),e.GetDataSegments(),e.imgRdn()}))):(console.log("jestem w Add File"),this.AddNewFile(a,o).then((function(){e.ShowToast("Zdjęcie dodano","Informacje",4e3,"success",!0,!1),e.GetDataSegments(),e.imgRdn()}))),this.file=null,this.file2=null,this.DataObjectImageID=null))},CountTasks:function(t,e){return"failure"===e?t.filter((function(t){return 0===t.DataInt||-1===t.DataInt})).length:"none"===e?t.filter((function(t){return null===t.DataInt})).length:void 0},CloseNest:function(){this.$emit("CloseNest",null)},ChangePosition:function(){var t=[];null!==this.SegDatas&&this.SegDatas.forEach((function(e,a){e.Position!==a&&(e.Position=a,t.push({ID:e.ID,Position:e.Position}))})),0!==t.length&&this.UpdatePosition(t)},ChangeDataTextPosition:function(t,e){var a=[];null!==t&&t.forEach((function(t,o){t.Position===o&&t.SegDataID===e||(t.Position=o,t.SegDataID=e,a.push({ID:t.ID,Position:t.Position,SegDataID:e}))})),console.log("Zmienione lementy: ",a),0!==a.length&&this.UpdateDataTextPosition(a)},ChangeDataObjectPosition:function(t,e){var a=[];null!==t&&t.forEach((function(t,o){t.Position===o&&t.SegDataID===e||(t.Position=o,t.SegDataID=e,a.push({ID:t.ID,Position:t.Position,SegDataID:e}))})),console.log("Zmienione lementy: ",a),0!==a.length&&this.UpdateDataObjectPosition(a)},UpdatePosition:function(t){var e=this;x.a.put("http://localhost:5000/api/SegData/updatePosition",t,{headers:{Authorization:localStorage.getItem("token")}}).then((function(t){200===t.status&&(console.log("Save DataSegArea: ",t.data),e.ShowToast("Zmiany zostaly zapisane","Informacje",4e3,"success",!0,!1))}),(function(t){console.log("Save DataSegArea ERROR: ",t),e.$store.commit("UseAlert",["danger ","Nie udało się załadować scenariuszy , błąd servera",5])}))},UpdateDataTextPosition:function(t){var e=this;x.a.put("http://localhost:5000/api/SegData/updateDataTextPosition",t,{headers:{Authorization:localStorage.getItem("token")}}).then((function(t){200===t.status&&(console.log("Save DataSegArea: ",t.data),e.ShowToast("Zmiany zostaly zapisane","Informacje",4e3,"success",!0,!1))}),(function(t){console.log("Save DataSegArea ERROR: ",t),e.$store.commit("UseAlert",["danger ","Nie udało się załadować scenariuszy , błąd servera",5])}))},UpdateDataObjectPosition:function(t){var e=this;x.a.put("http://localhost:5000/api/SegData/updateDataObjectPosition",t,{headers:{Authorization:localStorage.getItem("token")}}).then((function(t){200===t.status&&(console.log("Save DataSegArea: ",t.data),e.ShowToast("Zmiany zostaly zapisane","Informacje",4e3,"success",!0,!1))}),(function(t){console.log("Save DataSegArea ERROR: ",t),e.$store.commit("UseAlert",["danger ","Nie udało się załadować scenariuszy , błąd servera",5])}))},UpdateNestWidth:function(t){var e=this;x.a.put("http://localhost:5000/api/SegNested/Width",t,{headers:{Authorization:localStorage.getItem("token")}}).then((function(t){200===t.status&&(console.log("Save DataSegArea: ",t.data),e.ShowToast("Zmiany zostaly zapisane","Informacje",4e3,"success",!0,!1))}),(function(t){console.log("Save DataSegArea ERROR: ",t),e.$store.commit("UseAlert",["danger ","Nie udało się załadować scenariuszy , błąd servera",5])}))},GetDataSegments:function(){var t=this;x.a.get("http://localhost:5000/api/SegData/ByMainId/"+this.ClickedNest.ID,{headers:{Authorization:localStorage.getItem("token")}}).then((function(e){200===e.status&&(console.log("All SegData: ",e.data),t.SegDatas=e.data.SegDatas)}),(function(e){console.log("All SegData ERROR: ",e),t.$store.commit("UseAlert",["danger ","Nie udało się załadować scenariuszy , błąd servera",5])}))},AddSegData:function(t){var e,a=this;e="Image"===t||"Character"===t?{SegNestedID:this.ClickedNest.ID,Type:t}:{SegNestedID:this.ClickedNest.ID,Type:t,DataTexts:[{FieldType:t}]},x.a.post("http://localhost:5000/api/SegData/",e,{headers:{Authorization:localStorage.getItem("token")}}).then((function(t){200===t.status&&(console.log("Add DataSegArea: ",t.data),a.ShowToast("Dodano element","Informacje",2e3,"success",!0,!1),console.log("Add Seg Data ",t.data.segData,a.ClickedNest),a.SegDatas.push(t.data.segData))}),(function(t){console.log("Add DataSegArea ERROR: ",t),a.$store.commit("UseAlert",["danger ","Nie udało się załadować scenariuszy , błąd servera",5])}))},AddDataText:function(t,e){var a=this;console.log("asdasd",t.ID);var o={SegDataID:t.ID,FieldType:e,Height:"4"};x.a.post("http://localhost:5000/api/SegData/dataText/",o,{headers:{Authorization:localStorage.getItem("token")}}).then((function(e){200===e.status&&(console.log("Add DataSegArea: ",e.data),a.ShowToast("Dodano element","Informacje",2e3,"success",!0,!1),null!=t.DataTexts?t.DataTexts.push(e.data.dataText):t.DataText=[e.data.dataText])}),(function(t){console.log("Add DataSegArea ERROR: ",t),a.$store.commit("UseAlert",["danger ","Nie udało się załadować scenariuszy , błąd servera",5])}))},AddDataObject:function(t,e){var a=this,o={SegDataID:t.ID,FieldType:e};x.a.post("http://localhost:5000/api/SegData/dataObject/",o,{headers:{Authorization:localStorage.getItem("token")}}).then((function(e){200===e.status&&(console.log("Add DataSegArea: ",e.data),a.ShowToast("Dodano element","Informacje",2e3,"success",!0,!1),null!=t.DataObjects?t.DataObjects.push(e.data.dataObject):t.DataObjects=[e.data.dataObject])}),(function(t){console.log("Add DataSegArea ERROR: ",t),a.$store.commit("UseAlert",["danger ","Nie udało się załadować scenariuszy , błąd servera",5])}))},AddCoppyDataObject:function(t,e){var a=this;x.a.put("http://localhost:5000/api/SegData/dataObjectCoopy/",t,{headers:{Authorization:localStorage.getItem("token")}}).then((function(t){200===t.status&&(console.log("Add DataSegArea: ",t.data),a.ShowToast("Dodano element","Informacje",2e3,"success",!0,!1),e.DataObjects.push(t.data.dataObject))}),(function(t){console.log("Add DataSegArea ERROR: ",t),a.$store.commit("UseAlert",["danger ","Nie udało się załadować scenariuszy , błąd servera",5])}))},AddDataField:function(t,e){var a=this,o={DataObjectID:t.ID,FieldType:e};x.a.post("http://localhost:5000/api/SegData/dataField/",o,{headers:{Authorization:localStorage.getItem("token")}}).then((function(e){200===e.status&&(console.log("Add DataSegArea: ",e.data),a.ShowToast("Dodano element","Informacje",2e3,"success",!0,!1),null!=t.DataFields?t.DataFields.push(e.data.dataField):t.DataFields=[e.data.dataField])}),(function(t){console.log("Add DataSegArea ERROR: ",t),a.$store.commit("UseAlert",["danger ","Nie udało się załadować scenariuszy , błąd servera",5])}))},SaveSegData:function(t){var e=this;x.a.put("http://localhost:5000/api/SegData/update",t,{headers:{Authorization:localStorage.getItem("token")}}).then((function(t){200===t.status&&(console.log("Save DataSegArea: ",t.data),e.ShowToast("Zmiany zostaly zapisane","Informacje",2e3,"success",!0,!1),e.SegEdit=null)}),(function(t){console.log("Save DataSegArea ERROR: ",t),e.$store.commit("UseAlert",["danger ","Nie udało się załadować scenariuszy , błąd servera",5])}))},SaveDataText:function(t){var e=this;x.a.put("http://localhost:5000/api/SegData/updateDataText",t,{headers:{Authorization:localStorage.getItem("token")}}).then((function(t){200===t.status&&(console.log("Save DataSegArea: ",t.data),e.ShowToast("Zmiany zostaly zapisane","Informacje",2e3,"success",!0,!1),e.SegEdit=null)}),(function(t){console.log("Save DataSegArea ERROR: ",t),e.$store.commit("UseAlert",["danger ","Nie udało się załadować scenariuszy , błąd servera",5])}))},SaveDataObject:function(t){var e=this;x.a.put("http://localhost:5000/api/SegData/updateDataObject",t,{headers:{Authorization:localStorage.getItem("token")}}).then((function(t){200===t.status&&(console.log("Save DataSegArea: ",t.data),e.ShowToast("Obiekt został zapisany","Informacje",2e3,"success",!0,!1))}),(function(t){console.log("Save DataSegArea ERROR: ",t),e.$store.commit("UseAlert",["danger ","Nie udało się załadować scenariuszy , błąd servera",5])}))},RemoveSegData:function(t,e){var a=this;this.ShowModal("Czy na pewno chcesz usunąć element","Potwierdź działanie","Tak","Nie","danger").then((function(o){o&&x.a.post("http://localhost:5000/api/SegData/remove",t,{headers:{Authorization:localStorage.getItem("token")}}).then((function(t){200===t.status&&(console.log("Remove DataSegArea: ",t.data),a.ShowToast("Zmiany zostaly zapisane","Informacje",2e3,"info",!0,!1),a.SegEdit=null,a.SegDatas.splice(e,1))}),(function(t){console.log("Remove DataSegArea ERROR: ",t),a.$store.commit("UseAlert",["danger ","Nie udało się załadować scenariuszy , błąd servera",5])}))}))},RemoveDataText:function(t,e,a){var o=this;this.ShowModal("Czy na pewno chcesz usunąć ten element","Potwierdź działanie","Tak","Nie","danger").then((function(n){n&&x.a.post("http://localhost:5000/api/SegData/removeDataText",t,{headers:{Authorization:localStorage.getItem("token")}}).then((function(t){200===t.status&&(console.log("Remove DataText: ",t.data),o.ShowToast("Element ususnięto poprawnie","Informacje",2e3,"info",!0,!1),a.DataTexts.splice(e,1))}),(function(t){console.log("Remove DataText ERROR: ",t),o.$store.commit("UseAlert",["danger ","Błąd operacji serwera",5])}))}))},RemoveDataImage:function(t){var e=this;this.ShowModal("Czy na pewno chcesz usunąć ten element","Potwierdź działanie","Tak","Nie","danger").then((function(a){a&&x.a.post("http://localhost:5000/api/SegData/removeDataImage",t,{headers:{Authorization:localStorage.getItem("token")}}).then((function(t){200===t.status&&(console.log("Remove DataSegArea: ",t.data),e.ShowToast("Element ususnięto poprawnie","Informacje",2e3,"info",!0,!1),e.GetDataSegments())}),(function(t){console.log("Remove DataSegArea ERROR: ",t),e.$store.commit("UseAlert",["danger ","Błąd operacji serwera",5])}))}))},RemoveDataObject:function(t,e,a){var o=this;this.ShowModal("Czy na pewno chcesz usunąć ten element","Potwierdź działanie","Tak","Nie","danger").then((function(n){if(n){var i={ID:t.ID};x.a.post("http://localhost:5000/api/SegData/removeDataObject",i,{headers:{Authorization:localStorage.getItem("token")}}).then((function(t){200===t.status&&(console.log("Remove DataSegArea: ",t.data),o.ShowToast("Element ususnięto poprawnie","Informacje",2e3,"info",!0,!1),a.DataObjects.splice(e,1))}),(function(t){console.log("Remove DataSegArea ERROR: ",t),o.$store.commit("UseAlert",["danger ","Błąd operacji serwera",5])}))}}))},RemoveDataField:function(t){var e=this;this.ShowModal("Czy na pewno chcesz usunąć ten element","Potwierdź działanie","Tak","Nie","danger").then((function(a){if(a){var o={ID:t.ID};x.a.post("http://localhost:5000/api/SegData/removeDataField",o,{headers:{Authorization:localStorage.getItem("token")}}).then((function(t){200===t.status&&(console.log("Remove DataSegArea: ",t.data),e.ShowToast("Element ususnięto poprawnie","Informacje",2e3,"info",!0,!1),e.GetDataSegments())}),(function(t){console.log("Remove DataSegArea ERROR: ",t),e.$store.commit("UseAlert",["danger ","Błąd operacji serwera",5])}))}}))}}},bt=ft,vt=(a("e658"),Object(u["a"])(bt,gt,ht,!1,null,"d23414d4",null)),Dt=vt.exports,St={mixins:[at,ot,dt,mt],name:"App",components:{draggable:tt.a,LoadingWheel:v,DataSeg:Dt},props:["search"],data:function(){return{ActiveScenerioID:null,Scenerio:null,Edit:!0,NestEdit:!1,ClickedNest:null,file:null,seelct:null}},created:function(){null===localStorage.getItem("role")?(this.ShowToast("Zaloguj się lub zarejestrzuje !!","Informacje",4e3,"info",!0,!1),this.$router.push("/login")):(this.ActiveScenerioID=this.$route.params.scenID,this.GetScenerio())},mounted:function(){},computed:{dragOptions:function(){return{animation:200,disabled:!1,ghostClass:"ghost"}}},methods:{}},kt=St,wt=(a("a006"),Object(u["a"])(kt,ct,ut,!1,null,null,null)),Ct=wt.exports,It=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"ProfileContainer"},[a("div",{staticClass:"ProfileBox"},[null!==t.Profile?a("div",{staticClass:"FormBox"},[a("b-row",[a("b-col",[a("b-icon",{staticClass:"mt-1 ml-3",attrs:{icon:"person-square",scale:"3"}})],1),a("b-col",[t._v(" Typ konta:"+t._s(t.Profile.Role))])],1),a("hr"),a("b-form-group",{attrs:{id:"input-group-1",label:"Login:","label-for":"input-1"}},[a("b-form-input",{attrs:{id:"input-1",type:"text",placeholder:"Podaj login",required:""},model:{value:t.Profile.Login,callback:function(e){t.$set(t.Profile,"Login",e)},expression:"Profile.Login"}})],1),a("b-form-group",{attrs:{id:"input-group-1",label:"Email:","label-for":"input-1"}},[a("b-form-input",{attrs:{id:"input-1",type:"email",placeholder:"Podaj email",required:""},model:{value:t.Profile.Email,callback:function(e){t.$set(t.Profile,"Email",e)},expression:"Profile.Email"}})],1),a("b-form-group",{attrs:{id:"input-group-1",label:"Imie:","label-for":"input-1"}},[a("b-form-input",{attrs:{id:"input-1",type:"text",placeholder:"Imie",required:""},model:{value:t.Profile.Fname,callback:function(e){t.$set(t.Profile,"Fname",e)},expression:"Profile.Fname"}})],1),a("b-form-group",{attrs:{id:"input-group-1",label:"Nazwisko:","label-for":"input-1"}},[a("b-form-input",{attrs:{id:"input-1",type:"text",placeholder:"Nazwisko",required:""},model:{value:t.Profile.Lname,callback:function(e){t.$set(t.Profile,"Lname",e)},expression:"Profile.Lname"}})],1),a("b-button",{attrs:{type:"submit",variant:"primary"},on:{click:function(e){return t.SaveProfile()}}},[t._v("Zapisz zmiany")]),null!=t.ErrorMes?a("div",{staticClass:"Errors mt-3"},t._l(t.ErrorMes,(function(e){return a("li",{key:e},[t._v(" "+t._s(e)+" ")])})),0):t._e()],1):a("div",{staticClass:"m-3 Errors"},[t._v(" Błąd Danych ")])])])},yt=[],xt={name:"Login",data:function(){return{Profile:null,ErrorMes:null}},created:function(){this.GetProfile()},computed:{},methods:{GetProfile:function(){var t=this;x.a.post("http://localhost:5000/api/User/Profile","",{headers:{Authorization:localStorage.getItem("token")}}).then((function(e){t.Profile=e.data.UserProfile,console.log(e.data)}),(function(t){console.log("------Error------",t.response)}))},SaveProfile:function(){var t=this;x.a.post("http://localhost:5000/api/User/SaveProfile",this.Profile,{headers:{Authorization:localStorage.getItem("token")}}).then((function(e){1==e.data.Item1?t.$store.commit("UseAlert",["success","Profil zaktualizowany",4]):t.ErrorMes=e.data.Item2}),(function(t){console.log("------Error------",t.response)}))}}},Tt=xt,zt=(a("8c1a"),Object(u["a"])(Tt,It,yt,!1,null,"706567f9",null)),Et=zt.exports,_t=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-container",{staticClass:"AdminPanelContainer",attrs:{fluid:""}},[a("b-row",[a("b-col",{staticClass:"my-1",attrs:{lg:"6"}},[a("b-form-group",{staticClass:"mb-0",attrs:{label:"Szukaj","label-for":"filter-input","label-cols-sm":"3","label-align-sm":"right","label-size":"sm"}},[a("b-input-group",{attrs:{size:"sm"}},[a("b-form-input",{attrs:{id:"filter-input",type:"search",placeholder:"Wyszukaj"},model:{value:t.filter,callback:function(e){t.filter=e},expression:"filter"}}),a("b-input-group-append",[a("b-button",{attrs:{disabled:!t.filter},on:{click:function(e){t.filter=null}}},[t._v("Wyczyść")])],1)],1)],1)],1),a("b-col",{staticClass:"my-1",attrs:{lg:"6"}},[a("b-form-group",{staticClass:"mb-0",attrs:{label:"Filtruj po",description:"Pozostaw puste by szukać po wszystkich","label-cols-sm":"3","label-align-sm":"right","label-size":"sm"},scopedSlots:t._u([{key:"default",fn:function(e){var o=e.ariaDescribedby;return[a("b-form-checkbox-group",{staticClass:"mt-1",attrs:{"aria-describedby":o},model:{value:t.filterOn,callback:function(e){t.filterOn=e},expression:"filterOn"}},[a("b-form-checkbox",{attrs:{value:"ID"}},[t._v("ID")]),a("b-form-checkbox",{attrs:{value:"Title"}},[t._v("Tytuł")]),a("b-form-checkbox",{attrs:{value:"Description"}},[t._v("Opis")])],1)]}}])})],1)],1),a("transition-group",{attrs:{name:"list",tag:"p"}},[a("b-table",{key:t.Scenerios,attrs:{items:t.Scenerios,fields:t.fields,filter:t.filter,"filter-included-fields":t.filterOn,stacked:"md","show-empty":"",small:""},on:{filtered:t.onFiltered},scopedSlots:t._u([{key:"cell(Title)",fn:function(e){return[t._v(" "+t._s(e.value)+" ")]}},{key:"cell(More)",fn:function(e){return[a("div",{staticClass:"EditButtons"},[a("b-button-group",[a("b-button",{attrs:{size:"sm"},on:{click:e.toggleDetails}},[t._v(" "+t._s(e.detailsShowing?"Mniej":"Więcej")+" ")]),a("b-button",{attrs:{variant:"danger",size:"sm"},on:{click:function(a){return t.removeElement({ID:e.item.ID,Title:e.item.Title})}}},[t._v(" Usuń ")])],1)],1)]}},{key:"row-details",fn:function(e){return[a("b-card",[a("b-list-group",{staticClass:"text-left"},[a("b-row",[a("b-col",{staticClass:"Avatar text-center",attrs:{cols:"3"}},[a("b-img",{attrs:{src:null==e.item.DataImages?"http://localhost:5000/":"http://localhost:5000/"+e.item.DataImages[0].Path+"?random="+t.imgRand,fluid:"",alt:"Responsive image"}})],1),a("b-col",t._l(e.item,(function(e,o){return a("div",{key:o},[a("b-list-group-item",{directives:[{name:"show",rawName:"v-show",value:"_showDetails"!==o,expression:"key!=='_showDetails'"}],attrs:{button:""}},[a("b-row",[a("b-col",{attrs:{cols:"3"}},[t._v(" "+t._s(o)+": ")]),a("b-col","DataImages"===o?[t._v(" "+t._s(e[0].Path)+" ")]:[t._v(t._s(e)+" ")])],1)],1)],1)})),0)],1)],1)],1)]}}])})],1)],1)},jt=[],At={mixins:[at,ot,nt],data:function(){return{Scenerios:null,items:[{fname:"clark",lname:"cent",height:"5"},{fname:"lakoj",lname:"cent",height:"4"},{fname:"malwoj",lname:"cent",height:"345"},{fname:"asd",lname:"cent",height:"345"}],fields:[{key:"ID",label:"ID",sortable:!0,sortDirection:"desc"},{key:"Title",label:"Tytuł",sortable:!0,class:"text-center",sortDirection:"desc"},{key:"Description",label:"Opis",sortable:!0,class:"text-center"},{key:"More",label:"Więcej",sortable:!1,class:"text-center"}],totalRows:1,sortBy:"",filter:null,filterOn:[]}},computed:{},mounted:function(){this.getallAdm(),null!==this.Scenerios&&(this.totalRows=this.Scenerios.length)},methods:{info:function(t,e,a){this.infoModal.title="Row index: ".concat(e),this.infoModal.content=JSON.stringify(t,null,2),this.$root.$emit("bv::show::modal",this.infoModal.id,a)},resetInfoModal:function(){this.infoModal.title="",this.infoModal.content=""},onFiltered:function(t){this.totalRows=t.length,this.currentPage=1}}},Nt=At,Rt=(a("e554"),Object(u["a"])(Nt,_t,jt,!1,null,"028e3587",null)),Ot=Rt.exports,Mt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-container",{attrs:{fluid:""}},[a("b-row",[a("b-col",{staticClass:"my-1",attrs:{lg:"6"}},[a("b-form-group",{staticClass:"mb-0",attrs:{label:"Szukaj","label-for":"filter-input","label-cols-sm":"3","label-align-sm":"right","label-size":"sm"}},[a("b-input-group",{attrs:{size:"sm"}},[a("b-form-input",{attrs:{id:"filter-input",type:"search",placeholder:"Wyszukaj"},model:{value:t.filter,callback:function(e){t.filter=e},expression:"filter"}}),a("b-input-group-append",[a("b-button",{attrs:{disabled:!t.filter},on:{click:function(e){t.filter=null}}},[t._v("Wyczyść")])],1)],1)],1)],1),a("b-col",{staticClass:"my-1",attrs:{lg:"6"}},[a("b-form-group",{staticClass:"mb-0",attrs:{label:"Filtruj po",description:"Pozostaw puste by szukać po wszystkich","label-cols-sm":"3","label-align-sm":"right","label-size":"sm"},scopedSlots:t._u([{key:"default",fn:function(e){var o=e.ariaDescribedby;return[a("b-form-checkbox-group",{staticClass:"mt-1",attrs:{"aria-describedby":o},model:{value:t.filterOn,callback:function(e){t.filterOn=e},expression:"filterOn"}},[a("b-form-checkbox",{attrs:{value:"ID"}},[t._v("ID")]),a("b-form-checkbox",{attrs:{value:"Title"}},[t._v("Tytuł")])],1)]}}])})],1)],1),a("transition-group",{attrs:{name:"list",tag:"p"}},[a("b-table",{key:t.Mains,attrs:{items:t.Mains,fields:t.fields,filter:t.filter,"filter-included-fields":t.filterOn,stacked:"md","show-empty":"",small:""},on:{filtered:t.onFiltered},scopedSlots:t._u([{key:"cell(Title)",fn:function(e){return[t._v(" "+t._s(e.value)+" ")]}},{key:"cell(More)",fn:function(e){return[a("div",{staticClass:"EditButtons"},[a("b-button-group",[a("b-button",{attrs:{size:"sm"},on:{click:e.toggleDetails}},[t._v(" "+t._s(e.detailsShowing?"Mniej":"Więcej")+" ")]),a("b-button",{attrs:{variant:"danger",size:"sm"},on:{click:function(a){return t.DeleteMainAdm({ID:e.item.ID,Title:e.item.Title},e)}}},[t._v(" Usuń ")])],1)],1)]}},{key:"row-details",fn:function(e){return[a("b-card",[a("b-list-group",{staticClass:"text-left"},[a("b-row",[a("b-col",t._l(e.item,(function(e,o){return a("div",{key:o},[a("b-list-group-item",{directives:[{name:"show",rawName:"v-show",value:"_showDetails"!==o,expression:"key!=='_showDetails'"}],attrs:{button:""}},[a("b-row","SegScenerio"===o?[a("b-col",{attrs:{cols:"3"}},[t._v(" "+t._s(o)+": ")]),a("b-col",[a("ul",t._l(e,(function(e,o){return a("div",{key:o},["DataImages"!==o?a("li",[a("p","SegMains"===o?[t._v(" "+t._s(o)+" count : "+t._s(e.length)+" ")]:[t._v(t._s(o)+" : "+t._s(e))])]):t._e()])})),0)])]:"SegNesteds"===o?[a("b-col",{attrs:{cols:"3"}},[t._v(" "+t._s(o)+" Count: ")]),a("b-col",[t._v(" "+t._s(e.length)+" ")])]:[a("b-col",{attrs:{cols:"3"}},[t._v(" "+t._s(o)+": ")]),a("b-col",[t._v(t._s(e)+" ")])],1)],1)],1)})),0)],1)],1)],1)]}}])})],1)],1)},Pt=[],$t={mixins:[at,ot,mt],data:function(){return{Mains:null,fields:[{key:"ID",label:"ID",sortable:!0,sortDirection:"desc"},{key:"Title",label:"Tytuł",sortable:!0,class:"text-center",sortDirection:"desc"},{key:"More",label:"Więcej",sortable:!1,class:"text-right"}],totalRows:1,sortBy:"",filter:null,filterOn:[]}},computed:{},mounted:function(){this.GetMainAdm()},methods:{info:function(t,e,a){this.infoModal.title="Row index: ".concat(e),this.infoModal.content=JSON.stringify(t,null,2),this.$root.$emit("bv::show::modal",this.infoModal.id,a)},resetInfoModal:function(){this.infoModal.title="",this.infoModal.content=""},onFiltered:function(t){this.totalRows=t.length,this.currentPage=1}}},Lt=$t,Ut=(a("267d"),Object(u["a"])(Lt,Mt,Pt,!1,null,"5d42a626",null)),Wt=Ut.exports;o["default"].use(A["a"]);var Ft=[{path:"/",name:"Home",component:$},{path:"/signup",name:"signup",component:q},{path:"/login",name:"login",component:K},{path:"/scenerio",name:"scenerio",component:lt},{path:"/main:scenID",name:"main",component:Ct},{path:"/profile",name:"profile",component:Et},{path:"/adminPanelScenerio",name:"adminPanelScenerio",component:Ot},{path:"/adminPanelMain",name:"adminPanelMain",component:Wt},{path:"/about",name:"About",component:function(){return a.e("about").then(a.bind(null,"f820"))}}],Bt=new A["a"]({mode:"history",base:"/ui-kreator-fabularny/",routes:Ft}),qt=Bt,Ht=a("2f62");o["default"].use(Ht["a"]);var Zt=new Ht["a"].Store({state:{AlertData:null,LoadingWheel:{set:null,name:"main"},ActiveScenerio:null,ToastData:null,Role:null,Witaj:"jestok"},mutations:{UseAlert:function(t,e){var a={variant:e[0],message:e[1],dismissSecs:e[2]};this.state.AlertData=a},ClearAlert:function(){this.state.AlertData=null},UseToast:function(t,e){var a={variant:e[0],message:e[1],title:e[2],time:e[3],hide:e[4]};this.state.ToastData=a},SetLoadingWheel:function(t,e){this.state.LoadingWheel=e},SetActiveScenerio:function(t,e){this.state.ActiveScenerio=e},SetRole:function(t,e){this.state.Role=e}},actions:{},modules:{},getters:{GetActiveScenerio:function(){return this.state.ActiveScenerio}}}),Vt=a("5f5b"),Gt=a("b1e0");a("f9e3"),a("2dd8");o["default"].use(Vt["a"]),o["default"].use(Gt["a"]),o["default"].config.productionTip=!1,new o["default"]({router:qt,store:Zt,render:function(t){return t(j)}}).$mount("#app")},"5c0b":function(t,e,a){"use strict";a("9c0c")},"61f9":function(t,e,a){},7179:function(t,e,a){},7809:function(t,e,a){"use strict";a("01de")},"8ba6":function(t,e,a){},"8c1a":function(t,e,a){"use strict";a("8ba6")},9093:function(t,e,a){},"9b33":function(t,e,a){t.exports=a.p+"img/home1.5ea2e9aa.png"},"9c0c":function(t,e,a){},a006:function(t,e,a){"use strict";a("0972")},a673:function(t,e,a){"use strict";a("4874")},aa08:function(t,e,a){},b899:function(t,e,a){t.exports=a.p+"img/home3.44b7beb3.png"},d090:function(t,e,a){},e554:function(t,e,a){"use strict";a("d090")},e658:function(t,e,a){"use strict";a("ea25")},ea25:function(t,e,a){}});
//# sourceMappingURL=app.0f63d362.js.map